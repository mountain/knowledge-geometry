\documentclass[a4paper,12pt]{article}
\usepackage{amsmath, amsthm}
\usepackage{datetime}
\usepackage{framed}
\usepackage{enumitem}
\usepackage{fancyref}
\usepackage{wrapfig}
\usepackage{pifont}
\usepackage{appendix}
\usepackage{caption}
\usepackage{xcolor}
\usepackage[stable]{footmisc}
\usepackage{multicol}
\usepackage{csquotes}

\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{mathtools}

\usepackage{tikz}
\usepackage{pgf}
\usepgflibrary{fpu}
\usepackage{qtree}
\usetikzlibrary{angles,fit,arrows,calc,math,intersections,through,backgrounds}
\usepackage{pgfplots}
\usepackage{tkz-euclide}

\usepackage{listings}
\lstset{
  basicstyle=\itshape,
  xleftmargin=3em,
  literate={->}{$\rightarrow$}{2}
           {α}{$\alpha$}{1}
           {δ}{$\delta$}{1}
}


\usepackage{csquotes}
\renewcommand{\mkbegdispquote}[2]{\itshape}

\newdateformat{nianyueri}{ \THEYEAR 年 \THEMONTH 月 \THEDAY 日 }

\usepackage{xstring}
\usepackage{catchfile}
\CatchFileDef{\HEAD}{../.git/refs/heads/master}{}
\newcommand{\gitrevision}{%
  \StrLeft{\HEAD}{7}%
}

\usepackage{data/quiver}
\usepackage{data/circledsteps}
\input{data/style}

\usepackage{stmaryrd}
\usepackage{mathtools}
\usepackage{wasysym}
\usepackage{textcomp}
\usepackage{subfiles}

\newtheorem{problem}{问题}
\numberwithin{problem}{section}
\newtheorem{definition}{定义}
\numberwithin{definition}{section}
\newtheorem{lemma}{引理}
\numberwithin{lemma}{section}
\newtheorem{proposition}{命题}
\numberwithin{proposition}{section}
\newtheorem{theorem}{定理}
\numberwithin{theorem}{section}
\newtheorem{grammar}{文法}
\numberwithin{grammar}{section}
\newtheorem{program}{程序}
\numberwithin{program}{section}
\newtheorem{convention}{约定}
\numberwithin{convention}{section}
\newtheorem{corollary}{推论}
\numberwithin{corollary}{section}
\renewcommand*{\proofname}{证明}

\xeCJKsetwidth{‘’“”}{1em}

\title{本人自述}
\date{\nianyueri\today}
\author{苑明理}

\begin{document}

\begin{center}
  \sihao \em 过程比结果更重要
\end{center}

\begingroup
\let\newpage\relax
\maketitle
\endgroup

\centerline{\rule{13cm}{0.4pt}}
\renewcommand{\contentsname}{\hfill\bfseries 目录\hfill}
\setcounter{tocdepth}{2}
\tableofcontents
\centerline{\rule{13cm}{0.4pt}}
\newpage

本人苑明理，蜗居于北京的一位求学者。古人论学，有生而知之、学而知之和困而知之的分别，我大概属于困而知之的这一类。
不过，我认为古人的顺序说反了，并不符合知识创造的规律。学问发端于问，万事创制艰难，筚路蓝缕才能写成文章；
等到一种学问有了体系和沿承，学而知之的比例才会越来越大；但学问万古常新，不因循旧论而有新意的地方，还又会不断从新的困惑中产生。
我今年四十六岁，在这番年纪，始有志于学，原因在哪里？我会在下面逐一解释。

\begin{enumerate}
    \item 个人经历：简述个人的学习和工作经历，着重写和一个数学问题结缘的过程
    \item 教育背景：本科、硕士、工作各个阶段的学习情况和一些心得
    \item 研究计划：问题的陈述、意义和解决思路
    \item 学习计划：结合关键问题与思路，尽快补齐知识上的短板。
    \item 更多的思考：给出更多的背景，反应了一部分个人研究的志趣所在，和更长时间段上的工作有关系。
\end{enumerate}

\newpage

\section{个人经历}

1994年我就读于山东工业大学计算数学专业（后并入山东大学），1998年获得学士学位。其后短暂工作了两年，用了三个月的准备考入了北京大学数学学院，
2001年9月入校学习。2002年10月份，我和新加坡的友人一起汉化了维基百科，所以我是中文维基百科的发起人之一。此后多年也致力于跨越地域的分歧，
共同创造一个属于中文的互联网百科全书。2005年 1 月我获得应用数学专业的硕士学位，离开北大到了上海，先后在 HP、eBay 任职，
从事工程技术工作；2010年，人生低谷中困惑的我，开始了一个浪漫的尝试—瓦克星计划，用计算机去模拟一个虚拟星球。2012 年我回到北京，成家立业。
经过一年的中转，在 2014 年和朋友一起创立了彩云科技，把最新的深度学习和天气预报结合起来，是国内最早把短临预报大规模推向公众的单位。
我也是公司的联合创始人，先后任 CTO 和数据科学家。

或许可以这样一直走下去，但内心敏感的我常有困惑，2016年 40 岁时我曾留下一段文字

\begin{displayquote}
“十余年程序员生涯，游走于工程、语言、知识、智能、数学这些关键词之间，内心对世界充满很多好奇和困惑，尝听友人讲大刘《山》的故事，
也期自己可凭蛮力，凿空厚壁，得见星空。”
\end{displayquote}

大刘《山》的故事是小说家刘慈欣的一篇短篇小说，是一个现代版的望洋兴叹的故事。当时的我已经开始和一个数学问题结缘了，
那个时候认识还不深。我在尚未完成的附件一里有段文字写前后的经历：

\begin{displayquote}
    事情可以追溯到 2015 年底，当时我在上海短居。在考虑用词向量技术表达整数的时候，
    我发现可以构造一种有趣的、双曲平面上的离散结构。当看到那些蜿蜒到无穷的折线和
    均匀的数值分布时，我意识到可能发现了一个有着丰富内涵的数学结构。

    其后的几年我一直在反复琢磨它。 2019 年 10 月底我去美国出差，11 月初在回国的飞机上，
    我偶然发现了这种构造方式可以推广到无穷小。一两天后，我得到了双曲平面上无穷小生成
    结构的流方程。和中山大学的蒋文峰老师讨论后，他给到我很多好的建议，鼓励我一步步走
    下去。

    2019 年底到 2020 年夏，我在努力把这个结果应用到一种重要的神经网络上—残差网络，
    可以得到一类特殊的网络架构来解决演化问题。几个月的努力，逐步得到了一些有趣的神
    经网络架构，虽然在一些演化问题上它还没有达到工业界的最佳水平，但也有着良好的性能，
    至少可以说明这种几何化的想法在实践中是可行的。这些应用角度的努力，也可以从理论角
    度给予解读，是在探索另外一种微积分的可能性。

    2020 年底，在和英国的刘宇老师讨论后，他问了我几个特别好的问题，促使我重新思考，
    结果发现无穷小生成元的选择是自由的，这样就导出了一个非常深刻的管型构造， 这个
    管型构造能和多项式联系起来，是一种纤维结构。但是这些几何构造还仅仅存在于设想中，
    它还欠缺一个严密的理论基础和经过证明的实例。

    于是，在 2021 年初，我从公司(彩云科技)争取了三个月的时间，在实习生张乐和张怀公的
    帮助下，我们一起找到了第一个严格的、可以解算的实例(张乐的工作)，也找到了一般情况
    下的表述方法(张怀公的工作)。
\end{displayquote}

经过六、七年的探索，我觉得要做一个不容易的人生选择，我的选择是回到数学。人要对事情有判断和基于判断的胆识。
基于我个人的理解，我认为这个选择值得。

\newpage

\section{教育背景}

\subsection{本科阶段}

求学的本科阶段，我爱泡图书馆，图书馆里的数学与物理部分都被我翻遍了。因为是 1990 年代初，当时国内翻译的教材和读物还有限，选择比较少，但我仍然注
重多本经典教材彼此参照，数学与物理的相互印证。

在低年级阶段，数学分析的学习，除了课堂跟随老师，我自己又以 R. Courant 和 F. John 的《微积分和数学分析引论》为底本，结合华罗庚的
《高等数学引论》，同时还与《费曼物理学讲义》彼此对照。我至今记得费曼讲的场论基础清晰而直白，可以快速进入。高等代数的学习，老师以北大的《高等代数》
为教材，我自己又选择许以超老师的《线性代数与矩阵论》作为参照。

进到高年级，因为学校里没有开设类似课程，我自修了陈维桓老师的《微分几何》、 J. R. Munkres 的《拓扑学》，读了 V. I. Arnold 的《常微分方程》。
同时，我还注重数学史的学习，M. Kline 的《古今数学思想》常常摆在案头。有些大家的普及性小册子也在我的阅读范围内，比如冯承天先生译的 H. Weyl 的
《对称》，齐民友先生译的 V. I. Arnold 的《初等拓扑的直观概念》，等等。

在高中的时候，我自己曾经提问过一个问题，光线射入到球面里会出来吗？大一的时候，我了解到了一定可以射出来，证明竟然用到抽屉原理或者鸽笼原理。但后来
发现，入射椭圆的光线，其中过焦点的那些竟然可以出不来，当时很震惊这样的结果。高年级的时候，从 Arnold 的书里，我知道了庞加莱回归定理。这个大一时
候的问题给我留下了很深的印象，于是在大四毕业时，我选择研究这个问题作为本科毕业论文。我边思考问题边学习，最后用了射影几何的齐次坐标，可以方便的表
示切线，花了一个月的时间推导出这个环形上的动力系统，它的相空间被过焦点的射线分为了三个不变子集；剩下了一个月时间，想去证明三个不变子集中有两个有
遍历性，但是太难，没有结果。

\subsection{硕士阶段}

硕士阶段的求学，我在张乃孝老师门下，学习软件的形式化方法，当时对程序设计语言非常感兴趣，而张老师有对领域语言的研究。因为想体会一下一个领域语
言的设计和实现究竟是怎么样的？我的硕士论文偏工程性质，设计和部分实现了一个工作流语言。匆匆三年一晃而过，很过功课只是开了个头，简单记录一下对日后
工作和思考有帮助的学习内容。

\subsubsection{代数语义初步}

张乃孝老师有形式语义的讨论班，我在其中介绍代数语义的初步内容。整个介绍中，我对多调代数（many-sorted algebra）如何通过项代数（term algebra）
获得初始语义（initial algebra）的手法印象特别深刻，这个手法在后面数理逻辑的学习里也遇到了。这些内容影响了我对算术和逻辑的理解。

\subsubsection{程序设计语言}

程序设计语言这门课是裘宗燕老师授课，通过这门课基本了解了程序设计语言里各种概念的历史源流和作用。
我很好的完成了大作业，给出了 Self 语言的一个详细介绍，是课程里唯一获得 90 分以上的同学。这些学习和我后面对
元对象协议（MOP，meta-object protocol）的探索有关系。

\subsubsection{可计算理论初步}

当时旁听了计算机科学系的计算理论的课程，基本理解了自动机和形式语言的初步框架。在参考其他文献时，发现了 Neil D. Jones 的
\textit{Computability and Complexity: From a Programming Perspective} 这本书。作者新鲜的讲法让我非常兴奋，很多定理如果
基于图灵机去证明，会绕来绕去，特别繁复，在这本书里用 While 语言的程序去证明就显得清晰易懂。

\subsubsection{数理逻辑初步}

因为程序精化（refinement）的课程里有 Hoare logic 的内容，我去自修了一部分数理逻辑的内容。本科时也有数理逻辑的初阶课程，所以原以为数理逻辑只是
一些推演规则的体系。但当时看了王浩先生的《数理逻辑通俗讲话》才理解到逻辑学起源于对形式系统和客观世界之间关系的探讨，其中对形式系统的有效性和完全
性的讨论是代数味道非常浓厚的部分。后来参考到了李未老师的《数理逻辑》，书中给出了谓词逻辑完全性的一种证明，是通过 Hintikka 集来处理的。
这个处理手法，和代数语义里通过项代数获得初始语义的方法，是如出一辙的。这背后有很浓厚的哲学意味，后来有哲学系同学告诉我，这和康德处理唯理论和经验
论之争的思路是类似的。

\subsection{日积月累}

离开学校进入工业界，缺少了系统学习的大块时间，但也能在实践中锻炼。除了知识之外，工作中也需要很多软技能，包括领域里的方向判断、
分析复杂问题的能力、团队的沟通与协作、领导和协调的能力，这些都是在日积月累里慢慢提升。

\subsubsection{工程和管理实践}

2005年左右，我开始接触函数式编程；2008年参与了 eBay 的 V4 系统里 Java 到 JavaScript 的编译器工作，负责了一部分库的设计。
2010年左右，我试验了元对象协议（MOP，Meta-Object protocol）的一些实现。

2011年开始转向机器学习，2012年负责组建了果壳网的机器学习团队，带领团队设计开发了网页推荐系统、全文检索系统和日志处理系统。

2014年和朋友创建了彩云科技，在深度学习基础上，开发了短临预报系统。先后负责，发布系统的设计开发、整体架构的规划、部分算法的研发，
也参与了一部分融资和商业发展的工作。

\subsubsection{有效过程与自然法则}

2012年我参与了北京本地的一个科学社群—集智俱乐部的研读活动，负责讲解了可计算性的内容。在过程中，我读到了 R. Rosen 的《有效过程与自然法则》
这篇文章。2021年，我利用了零零散散的时间，把这篇文章翻译成中文，请参见附件二。

\newpage

\section{研究问题与计划}

\subsection{研究的问题}

总的来说，我们的研究包括如下四个方面：
\begin{itemize}
    \item 基础：研究什么情况下算术表达式可以构成几何体
    \item 几何：研究算术表达式构成的几何体的性质和此类几何体之间的关系
    \item 分析：通过算术表达式的几何来扩展我们的分析学能力
    \item 计算：通过算术表达式的几何来扩展我们的计算能力
\end{itemize}

它会是一个很广的研究，但在目前阶段，我给自己设立如下的目标，期望能在几年内完成
\begin{itemize}
    \item 例子构造：需要完成四阶无限边形的确切构造、严格给出第二个例子、探讨例子和四阶无限边形染色的关系，在此基础上能够明确无疑的给出管型构造
    \item 基础部分：可见文献已经有关于拓扑群生成元的研究，在此基础上，把通路群、可线索化表达式、典范形式、完备化、如何引入拓扑、交换子的作用、流方程的作用研究清楚，夯实研究基础
    \item 几何部分：围绕 Laplacian 为什么出现在这个地方，做深入探讨，这将会是非常有趣的部分
    \item 其他扩展：能够清晰地、合乎逻辑地指出和数学其他分支的联系，可以彰显本研究的价值，但在目前不求对那些问题进行深入的研究
\end{itemize}

我们把当前进展的要点写入了附录一，在附件一中也有更多的陈述。

\subsection{研究的意义}

\subsubsection{数学史的回顾与疑问}

历史是由一系列事件构成的，一个事件触发另一个事件。人们常说亚马逊的蝴蝶煽动了翅膀，大西洋上就吹起了飓风，这一类说不清楚的事件链接，我们称之为偶然。
但是数学史的发展，源自于人们对真理的探寻，它的事件链条有认识论的意义，蕴含着某种必然性。

古巴比伦泥板上的记载显示，那时的天文学家已经知道通过累积小量来逼近星体的运动轨迹；其后，古希腊的阿基米德发展了穷竭法，汉代的刘徽发明了割圆术，
南北朝时期，祖冲之父子得出了球体积公式。古人很久之前就已经通晓利用无穷小量来解决自己的问题。这些无穷小量的技巧背后都有几何或者物理的背景。

到了 17 世纪早期，巴罗、笛卡尔、费马探索了导数的概念。1637年，笛卡尔以附录的形式发表了 La Géométrie，提出了坐标系的概念，发展了解析几何的方法，
把代数和几何结合在一起，由此才为后来牛顿与莱布尼茨的工作做了足够的准备。在 17 世纪后半叶，牛顿与莱布尼茨建立了微积分的框架。

在 17、18 世纪，无穷小量的基础还不牢靠，引发了大量的讨论。微积分经由欧拉等人的工作，逐步变成了现代的形态。实分析的严密理论到了19世纪经威尔斯特拉斯、
戴德金等人的工作，才逐渐完备起来。更由此引出了对集合、自然数和数学基础的研究。

欧几里得第五公设有上千年的讨论，高斯、波利亚和罗巴切夫斯基开创了非欧几何的研究。由此引发的问题，让几何也成为了数学基础研究的一部分。

希尔伯特把几何学归结为算术，并提出了形式主义的纲领，但被哥德尔否定。在对希尔伯特的第十个问题的研究中，人们需要算法的严密概念，导致了 1930 年代计算机科学的建立。

我们的一个疑问，从分析学和几何学研究里一步步诞生出来计算机科学，但为什么计算机科学本身，从方法的内核上讲，却远离分析学和几何学呢？
这从数学的角度讲是对的吗？

\subsubsection{拓广积分的概念}



\subsubsection{分析部分}

扩展微积分的语言

从新引入函数

或许可以打开对一大类非线性函数的研究

\subsubsection{几何部分}

管型构造

\subsubsection{计算部分}

刻画计算过程，让我们可以讨论不停机的计算过程

程序的几何空间

为机器学习提供新的表达手段和优化途径。

\newpage

\section{博士期间的学习}

黎曼流形

黎曼单值化定理的证明和计算

拓扑群、李群、SL(2)

变分法

\newpage

\section{更多的思考}

\subsection{学习与停机问题}

在附件二的译后记中，我提及一篇少为人知的重要论文

\begin{displayquote}
1996 年 R. Lathrop 在 ICML 上发表了 On the Learnability of the Uncomputable ，
论文表明通过分析程序运行的时空行为，在概率意义上停机问题可学习。论文在可计算性和可学习性之间给我们找到了一块落脚石，
同时论文的分析方法和算法信息论（AIT）里 Chaitin 常数 $\Omega$ 的渐进可计算性似乎有更进一步的联系。
\end{displayquote}

在附件一中，我有这样几段话，我把它们列在一起，来表明我的一种一致的观点

\begin{displayquote}
在工程实践中，我们有两种方式使用一个计算机程序。一种是使用它的最终效果，一种是使用它的计算过程。
前者的例子是程序库的各种标准例程，比如 $\sin$、$\cos$ 等等，我们不在乎它的实现细节和计算的中间状态，只在乎最终结果。
后者的例子是打游戏，游戏程序循环的每一步，都导致我们用户在音视频上的某种体验，整个计算过程都是我们需要的。
\end{displayquote}

但在可计算性的理论里，我们仅仅考虑的是能够停机的偏函数，为什么我们不能考察整个计算过程呢？
我的理解是，我们缺乏一种数学语言，去刻画一个计算过程。这种数学语言的缺失，很早很早之前就埋在了数学的发展中。

\begin{displayquote}
人们常说，数和形是数学的基本主题。让我们看一下数的早期历史。
从石器时代非洲的骨刻，我们可以看到数的概念表征和计算过程是浑然一体的，这种表征非常繁琐，计算的能力也非常有限。
其后，数的表征，经过古埃及的不成熟形态，到达了古巴比伦的数位制。

在这个历史过程里，人们遗忘了一个隐藏的巨大世界—那就是表达式，或者说计算过程。
数作为一种表征，本来就是计算过程的高度凝练的表达，但它一旦符号化后，就成为我们追求的目标。
于是，我们往往关注计算过程的结果，而忽视了过程本身蕴含的众多信息。

过程比结果更重要。
\end{displayquote}

算术表达式的几何提供了一种可能，在这里计算过程可以被实现为一个几何上的流。

\subsection{机器能否数数的思考}

2021 年 1 月集智年会上我做了一个小的分享，去探讨机器能不能数数的问题。

表面上看似乎不是问题，机器本来不就是高级版本的计算器嘛！实则不然，我其实在这里提了
一个不同于图灵测试的智能体的创造性测试问题。图灵测试是以人类智能为标准的，而这里的
机器数数的测试问题则是以一种超出了人类智能的方式来设问的。

在演示文档中，我有一层层的剥开这个问题，先考察生物和认知里的数，继而从目前人类的形
式定义去考察，发现想把这个问题定义清楚都比较困难。 困难在于，无法简单的排除掉智能体
可以创造出和人类不同的数的形式，但这种情况下，你无法给出一个数的标准定义，从而也很
难给出能不能数数问题的测试标准。 最后一段，我尝试用强化学习的思路，创造一个生存环境，
智能体必须通过计数的方法来获得更优的选择，然后不限定智能体的策略的制定，如此从侧面
去考察数的创造。

这种强化学习的思路，最终还是通过报酬或者激励的量化来驱动策略的搜索，也就是把数的创造
问题化归为一个势能面上的寻优。这背后是一种\textbf{几何式的元数学}观点。

扩展开来，这里面其实有个很深的智能体之间彼此理解的问题。
我对沙漠蚁计步的能力就很好奇：沙漠蚁在觅食时可以走很复杂的路线，但是它们一旦归巢，
就会直奔巢穴的位置。 沙漠蚁在这里展现出来的空间路径积分的能力，其实不比人类最开始掰
手指头数那么几百个数要低。我想的是数学能力其实是一种具身性的能力，而数学形式也受具
身性的影响。 想要隔着物种或者其他的隔阂去理解的话，必须得深入到那个具身环境里去理
解。但我倒不是否定柏拉图理念式的数学，我是想探索这些不同具身环境下的数学形态的某种
公约数。当生物逐渐从昆虫演化到了哺乳动物，它们在海马体里出现了导航神经细胞，这些细
胞有六边形的活跃模式。那么这种神经层面上六边形活跃模式对应的几何， 怎么和我们心理
层面的几何挂上钩的呢？从数学角度如何理解呢？所以还可以跨越神经、认知和数学，去思考
更多。

上面提到的公约数可能也是理解人类符号化知识的一个有趣切入的方向。考察这种异与同背后，
其实还有一个问题是什么是真实？有没有这种真实？ 如果没有这种真实，智能体之间能互相理
解吗？这背后的指涉，远不止在具身性数学的探讨，如今混乱的人类世界或许也需要深刻反思
这个问题。

\subsection{环形的推理结构}

因为上面提到了多种数学形态，和寻求公约数。我在想另外一种推理的方式。我们学习实数理论
或者复变函数时，不少教科书就采用了一种环式的论证，它不是循环论证，而是通过一个环形的
蕴含来论证一定条件下的概念间的等价性的。

我在想，这种环式的推理是可以被挖掘的，有趣的一个问题，这个环包围的空有没有意义呢？
你可以想到同伦或者某种语义的空间。它就不单纯是推理的链条了。相反，我们要跳出推理链条，
从链条的外面来看。

有趣的是，在算术表达式的几何里，我们就是从词向量这种语义空间的构造开始的。而得到的算术
表达式空间，可以被赋值函数的等值线与梯度分解。我们知道等值线就是逻辑上的等值关系，
梯度可以理解成一种特殊的推理机制。既然算术表达式被几何化了，那么是否有可能一个命题体系
也可以被几何化？

更进一步，希尔伯特把几何算术化，所以我们能把希尔伯特的思路反过来吗？给出一个几何式的元数学？

\subsection{向下去思考}

\newpage

\section{结语}

我知道我大概率会失败，但仍然愿意去试试，不是去小心掩盖那些真正让人激动的想法，而是大声勇敢说出来，所有的这一切，说到底都是基于如下的原因：
\begin{enumerate}
    \item 我好奇这个问题为什么会这样？有没有别的可能性？
    \item 我知道我的局限，无法独立解决这些问题，需要学习和老师的指导。
    \item 我相信这些问题背后的原理一定有价值。如果失败了，也不会是简单的失败。
\end{enumerate}

那么就迈出这一步。

\newpage

\appendix

\section{目前进展的要点}

为了清晰陈述一个复杂问题，势必引入一定的表述形式，但目前我思考的这个领域还在早期，下面的表述只是一种尝试。
这个尝试会尽量采用演绎的方式来进行，但目前可能还存在一定的漏洞和不严密的地方。
在未完成的附件一中，我给出了更多的思考过程的描述，在那里很多内容是以归纳的方式进行的。

\subsection{最一般的问题陈述}

\begin{problem}
    算术表达式构成的几何空间是什么样子的？这里的几何空间可以是拓扑空间、度量空间，也可以是各种流形。
\end{problem}

\begin{definition}
    实数域$\mathbb{R}$的算术表达式$a$由如下的生成式给出：
    \begin{lstlisting}
    a -> x
    a -> ( a + a )
    a -> ( a - a )
    a -> ( a × a )
    a -> ( a / a )
    \end{lstlisting}
    其中 $x \in \mathbb{R}$。
\end{definition}

估值$\nu$是对上面算术表达式 $a$ 的计算，该计算仅在出现除零时无定义。

\begin{definition}
    良定义的算术表达式是指可以估值的算术表达式\footnote{良定义的问题还可以有更多几何上的讨论，除零类似于复变里给出的极点和本性奇点。}
\end{definition}

我们记实数域$\mathbb{R}$上的全体良定义的算术表达式为$\mathbb{A}$，此时 $\nu$ 是从 $\mathbb{A}$ 到 $\mathbb{R}$ 的函数。

\begin{definition}
    拓扑空间 $\mathcal{A}$ 上有一个可列的稠密集 $G$，如果该稠密集到良定义的算术表达式之间存在一个单射 $\kappa: G \to \mathbb{A}$，
    对任意一点 $x \in \mathcal{A}$， 任意两个点列 $y_i \in G$ 和 $w_j \in G$， 当 $y_i$ 趋于 $x$ 且 $w_j$ 也趋于 $x$ 时，
    我们有实数上的点列 $\nu(\kappa(y_i))$ 和 $\nu(\kappa(w_j))$ 都收敛到同一个实数；此时，我们可以自然的把 $\nu$ 扩展到整个
    $\mathcal{A}$ 上；如果这个扩展的估值函数是一个连续函数，则我们称拓扑空间 $\mathcal{A}$ 为一个拓扑算术表达式空间。 $G$ 称为
    $\mathcal{A}$ 上的网格。
\end{definition}

这个定义或许还可以探讨，但要点是
\begin{enumerate}
    \item 几何上的收敛蕴含算术估值的收敛
    \item 算术估值可以扩展到整个几何体上成为一个连续函数
\end{enumerate}

\subsection{可线索化表达式}

\begin{definition}
可线索化算术表达式是指其所有右枝的深度都为一的表达式
\end{definition}

可线索化算术表达式可以组织成为一个线索，按照线索顺序来估值。

如，下式，

$$
(1 \times 2 \times 2 - 1) \times (2 + 1) - 6
$$

的表达式解析树为

\Tree [.$\ominus$ [.$\odot$ [.$\ominus$ [.$\odot$ [.$\odot$ 1 2 ] 2 ] 1 ] [.$\oplus$ 2 1 ] ] 6 ]

项 $(2 + 1)$ 的存在，令表达式树有一右枝深度为二，故而它不是可线索化算术表达式。

再如，

$$
(1 \times 2 \times 2 - 1) \times 2 - 3
$$

它的表达式解析树如下，

\Tree [.$\ominus$ [.$\odot$ [.$\ominus$ [.$\odot$ [.$\odot$ 1 2 ] 2 ] 1 ] 2 ] 3 ]

其所有右枝深度都为一，故上式是可线索化算术表达式。

\subsection{第一个启发性的例子}

给定上半平面
\[
\{\mathcal{H}: (x, y) | y > 0 \}
\]

配合有内积

\[
\mathbf{a} \cdot \mathbf{b} = \begin{bmatrix} a_x & a_y \end{bmatrix} \begin{bmatrix} \frac{1}{y^2} & 0 \\ 0 & \frac{1}{y^2\ln^2{2}} \end{bmatrix} \begin{bmatrix} b_x \\ b_y \end{bmatrix}
\]

以及度规

\[
ds^2 = \frac{1}{y^2}(dx^2 + \frac{dy^2}{\ln^2 2})
\]

\begin{figure}[ht]
\centering
\resizebox{0.9\textwidth}{!}{
\begin{tikzpicture}
\draw [black, line width=0.6pt, ->] (0,0) to[out=90,in=270] (0,8.25);
\node [anchor=south] at (0,8.5) {y};
\draw [black, line width=0.6pt, ->] (-8.2,0) to[out=0,in=180] (8.25,0);
\node [anchor=west] at (8.5,0) {x};
\foreach \x in {-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8}
  \node [anchor=north] at (\x,0) {\x};
\foreach \y in {1,2,3,4,5,6,7,8}
  \node [anchor=45] at (0,\y) {\y};

\draw [blue, line width=0.6pt] (-8.25,0.5) to[out=0,in=180] (8.25,0.5);
\draw [blue, line width=0.6pt] (-8.25,1) to[out=0,in=180] (8.25,1);
\draw [blue, line width=0.6pt] (-8.25,2) to[out=0,in=180] (8.25,2);
\draw [blue, line width=0.6pt] (-8.25,4) to[out=0,in=180] (8.25,4);
\draw [blue, line width=0.6pt] (-8.25,8) to[out=0,in=180] (8.25,8);

\draw [green, line width=0.6pt] (-8,0) to[out=90,in=270] (-8,1);
\draw [green, line width=0.6pt] (-7,0) to[out=90,in=270] (-7,1);
\draw [green, line width=0.6pt] (-6,0) to[out=90,in=270] (-6,1);
\draw [green, line width=0.6pt] (-5,0) to[out=90,in=270] (-5,1);
\draw [green, line width=0.6pt] (-4,0) to[out=90,in=270] (-4,1);
\draw [green, line width=0.6pt] (-3,0) to[out=90,in=270] (-3,1);
\draw [green, line width=0.6pt] (-2,0) to[out=90,in=270] (-2,1);
\draw [green, line width=0.6pt] (-1,0) to[out=90,in=270] (-1,1);
\draw [green, line width=0.6pt] (1,0) to[out=90,in=270] (1,1);
\draw [green, line width=0.6pt] (2,0) to[out=90,in=270] (2,1);
\draw [green, line width=0.6pt] (3,0) to[out=90,in=270] (3,1);
\draw [green, line width=0.6pt] (4,0) to[out=90,in=270] (4,1);
\draw [green, line width=0.6pt] (5,0) to[out=90,in=270] (5,1);
\draw [green, line width=0.6pt] (6,0) to[out=90,in=270] (6,1);
\draw [green, line width=0.6pt] (7,0) to[out=90,in=270] (7,1);
\draw [green, line width=0.6pt] (8,0) to[out=90,in=270] (8,1);

\draw [green, line width=0.6pt] (-8,1) to[out=90,in=270] (-8,2);
\draw [green, line width=0.6pt] (-6,1) to[out=90,in=270] (-6,2);
\draw [green, line width=0.6pt] (-4,1) to[out=90,in=270] (-4,2);
\draw [green, line width=0.6pt] (-2,1) to[out=90,in=270] (-2,2);
\draw [green, line width=0.6pt] (2,1) to[out=90,in=270] (2,2);
\draw [green, line width=0.6pt] (4,1) to[out=90,in=270] (4,2);
\draw [green, line width=0.6pt] (6,1) to[out=90,in=270] (6,2);
\draw [green, line width=0.6pt] (8,1) to[out=90,in=270] (8,2);

\draw [green, line width=0.6pt] (-8,2) to[out=90,in=270] (-8,4);
\draw [green, line width=0.6pt] (-4,2) to[out=90,in=270] (-4,4);
\draw [green, line width=0.6pt] (4,2) to[out=90,in=270] (4,4);
\draw [green, line width=0.6pt] (8,2) to[out=90,in=270] (8,4);

\draw [green, line width=0.6pt] (-8,4) to[out=90,in=270] (-8,8);
\draw [green, line width=0.6pt] (8,4) to[out=90,in=270] (8,8);

\node [anchor=225, red] at (-8,0.5) {16};
\node [anchor=225, red] at (-7,0.5) {14};
\node [anchor=225, red] at (-6,0.5) {12};
\node [anchor=225, red] at (-5,0.5) {10};
\node [anchor=225, red] at (-4,0.5) {8};
\node [anchor=225, red] at (-3,0.5) {6};
\node [anchor=225, red] at (-2,0.5) {4};
\node [anchor=225, red] at (-1,0.5) {2};
\node [anchor=225, red] at (0,0.5) {0};
\node [anchor=225, red] at (1,0.5) {-2};
\node [anchor=225, red] at (2,0.5) {-4};
\node [anchor=225, red] at (3,0.5) {-6};
\node [anchor=225, red] at (4,0.5) {-8};
\node [anchor=225, red] at (5,0.5) {-10};
\node [anchor=225, red] at (6,0.5) {-12};
\node [anchor=225, red] at (7,0.5) {-14};
\node [anchor=225, red] at (8,0.5) {-16};

\node [anchor=225, red] at (-8,1) {8};
\node [anchor=225, red] at (-7,1) {7};
\node [anchor=225, red] at (-6,1) {6};
\node [anchor=225, red] at (-5,1) {5};
\node [anchor=225, red] at (-4,1) {4};
\node [anchor=225, red] at (-3,1) {3};
\node [anchor=225, red] at (-2,1) {2};
\node [anchor=225, red] at (-1,1) {1};
\node [anchor=225, red] at (0,1) {0};
\node [anchor=225, red] at (1,1) {-1};
\node [anchor=225, red] at (2,1) {-2};
\node [anchor=225, red] at (3,1) {-3};
\node [anchor=225, red] at (4,1) {-4};
\node [anchor=225, red] at (5,1) {-5};
\node [anchor=225, red] at (6,1) {-6};
\node [anchor=225, red] at (7,1) {-7};
\node [anchor=225, red] at (8,1) {-8};

\node [anchor=225, red] at (-8,2) {4};
\node [anchor=225, red] at (-6,2) {3};
\node [anchor=225, red] at (-4,2) {2};
\node [anchor=225, red] at (-2,2) {1};
\node [anchor=225, red] at (0,2) {0};
\node [anchor=225, red] at (2,2) {-1};
\node [anchor=225, red] at (4,2) {-2};
\node [anchor=225, red] at (6,2) {-3};
\node [anchor=225, red] at (8,2) {-4};

\node [anchor=225, red] at (-8,4) {2};
\node [anchor=225, red] at (-4,4) {1};
\node [anchor=225, red] at (0,4) {0};
\node [anchor=225, red] at (4,4) {-1};
\node [anchor=225, red] at (8,4) {-2};

\node [anchor=225, red] at (-8,8) {1};
\node [anchor=225, red] at (0,8) {0};
\node [anchor=225, red] at (8,8) {-1};

\end{tikzpicture}
}
\caption{加乘网格，$\lambda=\ln2$ 和 $\mu=1$}\label{fig:gridex0}
\end{figure}

考虑 $\mathcal{H}$ 上的一个标量场 $A$

\begin{equation}
   A  = - \frac{x}{y}
\end{equation}

从上面的赋值和度规，可以导出一个如图 \ref{fig:gridex0} 的加乘网格。
在加乘网格里，蓝线代表 $+ 1$ 关系，绿线代表 $\times 2$ 关系，它们是彼此垂直的线族。
蓝线之间是等间隔为长度 1 的。图里的红色数值是标量场 $A$ 的大小。
注意到蓝线和绿线各自代表的关系，我们就可以用它们来编码可线索化算术表达式了。

例如：

$$
(1 \times 2 \times 2 - 1) \times 2 - 3
$$

可以得到如图\ref{fig:pathex0}的一条路径。

\begin{figure}[ht]
\centering
\begin{tikzpicture}
\draw [black, line width=0.6pt, ->] (0,0) to[out=90,in=270] (0,8.25);
\node [anchor=south] at (0,8.5) {y};
\draw [black, line width=0.6pt, ->] (-8.2,0) to[out=0,in=180] (8.25,0);
\node [anchor=west] at (8.5,0) {x};
\foreach \x in {-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8}
  \node [anchor=north] at (\x,0) {\x};
\foreach \y in {1,2,3,4,5,6,7,8}
  \node [anchor=45] at (0,\y) {\y};

\draw [blue, line width=0.6pt] (-8.25,0.5) to[out=0,in=180] (8.25,0.5);
\draw [blue, line width=0.6pt] (-8.25,1) to[out=0,in=180] (8.25,1);
\draw [blue, line width=0.6pt] (-8.25,2) to[out=0,in=180] (8.25,2);
\draw [blue, line width=0.6pt] (-8.25,4) to[out=0,in=180] (8.25,4);
\draw [blue, line width=0.6pt] (-8.25,8) to[out=0,in=180] (8.25,8);

\draw [green, line width=0.6pt] (-8,0) to[out=90,in=270] (-8,1);
\draw [green, line width=0.6pt] (-7,0) to[out=90,in=270] (-7,1);
\draw [green, line width=0.6pt] (-6,0) to[out=90,in=270] (-6,1);
\draw [green, line width=0.6pt] (-5,0) to[out=90,in=270] (-5,1);
\draw [green, line width=0.6pt] (-4,0) to[out=90,in=270] (-4,1);
\draw [green, line width=0.6pt] (-3,0) to[out=90,in=270] (-3,1);
\draw [green, line width=0.6pt] (-2,0) to[out=90,in=270] (-2,1);
\draw [green, line width=0.6pt] (-1,0) to[out=90,in=270] (-1,1);
\draw [green, line width=0.6pt] (1,0) to[out=90,in=270] (1,1);
\draw [green, line width=0.6pt] (2,0) to[out=90,in=270] (2,1);
\draw [green, line width=0.6pt] (3,0) to[out=90,in=270] (3,1);
\draw [green, line width=0.6pt] (4,0) to[out=90,in=270] (4,1);
\draw [green, line width=0.6pt] (5,0) to[out=90,in=270] (5,1);
\draw [green, line width=0.6pt] (6,0) to[out=90,in=270] (6,1);
\draw [green, line width=0.6pt] (7,0) to[out=90,in=270] (7,1);
\draw [green, line width=0.6pt] (8,0) to[out=90,in=270] (8,1);

\draw [green, line width=0.6pt] (-8,1) to[out=90,in=270] (-8,2);
\draw [green, line width=0.6pt] (-6,1) to[out=90,in=270] (-6,2);
\draw [green, line width=0.6pt] (-4,1) to[out=90,in=270] (-4,2);
\draw [green, line width=0.6pt] (-2,1) to[out=90,in=270] (-2,2);
\draw [green, line width=0.6pt] (2,1) to[out=90,in=270] (2,2);
\draw [green, line width=0.6pt] (4,1) to[out=90,in=270] (4,2);
\draw [green, line width=0.6pt] (6,1) to[out=90,in=270] (6,2);
\draw [green, line width=0.6pt] (8,1) to[out=90,in=270] (8,2);

\draw [green, line width=0.6pt] (-8,2) to[out=90,in=270] (-8,4);
\draw [green, line width=0.6pt] (-4,2) to[out=90,in=270] (-4,4);
\draw [green, line width=0.6pt] (4,2) to[out=90,in=270] (4,4);
\draw [green, line width=0.6pt] (8,2) to[out=90,in=270] (8,4);

\draw [green, line width=0.6pt] (-8,4) to[out=90,in=270] (-8,8);
\draw [green, line width=0.6pt] (8,4) to[out=90,in=270] (8,8);

\node [anchor=225, red] at (-8,0.5) {16};
\node [anchor=225, red] at (-7,0.5) {14};
\node [anchor=225, red] at (-6,0.5) {12};
\node [anchor=225, red] at (-5,0.5) {10};
\node [anchor=225, red] at (-4,0.5) {8};
\node [anchor=225, red] at (-3,0.5) {6};
\node [anchor=225, red] at (-2,0.5) {4};
\node [anchor=225, red] at (-1,0.5) {2};
\node [anchor=225, red] at (0,0.5) {0};
\node [anchor=225, red] at (1,0.5) {-2};
\node [anchor=225, red] at (2,0.5) {-4};
\node [anchor=225, red] at (3,0.5) {-6};
\node [anchor=225, red] at (4,0.5) {-8};
\node [anchor=225, red] at (5,0.5) {-10};
\node [anchor=225, red] at (6,0.5) {-12};
\node [anchor=225, red] at (7,0.5) {-14};
\node [anchor=225, red] at (8,0.5) {-16};

\node [anchor=225, red] at (-8,1) {8};
\node [anchor=225, red] at (-7,1) {7};
\node [anchor=225, red] at (-6,1) {6};
\node [anchor=225, red] at (-5,1) {5};
\node [anchor=225, red] at (-4,1) {4};
\node [anchor=225, red] at (-3,1) {3};
\node [anchor=225, red] at (-2,1) {2};
\node [anchor=225, red] at (-1,1) {1};
\node [anchor=225, red] at (0,1) {0};
\node [anchor=225, red] at (1,1) {-1};
\node [anchor=225, red] at (2,1) {-2};
\node [anchor=225, red] at (3,1) {-3};
\node [anchor=225, red] at (4,1) {-4};
\node [anchor=225, red] at (5,1) {-5};
\node [anchor=225, red] at (6,1) {-6};
\node [anchor=225, red] at (7,1) {-7};
\node [anchor=225, red] at (8,1) {-8};

\node [anchor=225, red] at (-8,2) {4};
\node [anchor=225, red] at (-6,2) {3};
\node [anchor=225, red] at (-4,2) {2};
\node [anchor=225, red] at (-2,2) {1};
\node [anchor=225, red] at (0,2) {0};
\node [anchor=225, red] at (2,2) {-1};
\node [anchor=225, red] at (4,2) {-2};
\node [anchor=225, red] at (6,2) {-3};
\node [anchor=225, red] at (8,2) {-4};

\node [anchor=225, red] at (-8,4) {2};
\node [anchor=225, red] at (-4,4) {1};
\node [anchor=225, red] at (0,4) {0};
\node [anchor=225, red] at (4,4) {-1};
\node [anchor=225, red] at (8,4) {-2};

\node [anchor=225, red] at (-8,8) {1};
\node [anchor=225, red] at (0,8) {0};
\node [anchor=225, red] at (8,8) {-1};

\node[circle,fill=black,inner sep=1pt,minimum size=3pt] (a) at (-8,8) {};
\node[circle,fill=black,inner sep=1pt,minimum size=3pt] (b) at (-3,1) {};
\draw [black, line width=1.2pt] (-8,7.7) to[out=90,in=270] (-8,2.3);
\draw [black, line width=1.2pt] (-8,2) to[out=0,in=180] (-6,2);
\draw [black, line width=1.2pt] (-6,1.95) to[out=90,in=270] (-6,1.05);
\draw [black, line width=1.2pt] (-6,1) to[out=0,in=180] (-3,1);
\end{tikzpicture}
\caption{加乘网格上的一条路径（黑色粗线）}\label{fig:pathex0}
\end{figure}

下面我们先讨论连接两个点之间的典范形式。如图 \ref{fig:pathex1} ，有如下路径和对应表达式
\begin{itemize}
    \item 黑色路径：$1 \times 8 - 5 = 3$
    \item 紫色路径：$(1 - \frac{5}{8}) \times 8 = 3$
    \item 棕色路径：$(((1 - \frac{1}{8}) \times 2 - \frac{1}{2}) \times 2 - 1) \times 2 = 3$
    \item 桔色路径：代表无限多个加乘式的累积，可以理解成一种特殊的积分形态的例子
\end{itemize}

\begin{figure}[ht]
\centering
\begin{tikzpicture}
\draw [black, line width=0.6pt, ->] (0,0) to[out=90,in=270] (0,8.25);
\node [anchor=south] at (0,8.5) {y};
\draw [black, line width=0.6pt, ->] (-8.2,0) to[out=0,in=180] (8.25,0);
\node [anchor=west] at (8.5,0) {x};
\foreach \x in {-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8}
  \node [anchor=north] at (\x,0) {\x};
\foreach \y in {1,2,3,4,5,6,7,8}
  \node [anchor=45] at (0,\y) {\y};

\draw [blue, line width=0.6pt] (-8.25,0.5) to[out=0,in=180] (8.25,0.5);
\draw [blue, line width=0.6pt] (-8.25,1) to[out=0,in=180] (8.25,1);
\draw [blue, line width=0.6pt] (-8.25,2) to[out=0,in=180] (8.25,2);
\draw [blue, line width=0.6pt] (-8.25,4) to[out=0,in=180] (8.25,4);
\draw [blue, line width=0.6pt] (-8.25,8) to[out=0,in=180] (8.25,8);

\draw [green, line width=0.6pt] (-8,0) to[out=90,in=270] (-8,1);
\draw [green, line width=0.6pt] (-7,0) to[out=90,in=270] (-7,1);
\draw [green, line width=0.6pt] (-6,0) to[out=90,in=270] (-6,1);
\draw [green, line width=0.6pt] (-5,0) to[out=90,in=270] (-5,1);
\draw [green, line width=0.6pt] (-4,0) to[out=90,in=270] (-4,1);
\draw [green, line width=0.6pt] (-3,0) to[out=90,in=270] (-3,1);
\draw [green, line width=0.6pt] (-2,0) to[out=90,in=270] (-2,1);
\draw [green, line width=0.6pt] (-1,0) to[out=90,in=270] (-1,1);
\draw [green, line width=0.6pt] (1,0) to[out=90,in=270] (1,1);
\draw [green, line width=0.6pt] (2,0) to[out=90,in=270] (2,1);
\draw [green, line width=0.6pt] (3,0) to[out=90,in=270] (3,1);
\draw [green, line width=0.6pt] (4,0) to[out=90,in=270] (4,1);
\draw [green, line width=0.6pt] (5,0) to[out=90,in=270] (5,1);
\draw [green, line width=0.6pt] (6,0) to[out=90,in=270] (6,1);
\draw [green, line width=0.6pt] (7,0) to[out=90,in=270] (7,1);
\draw [green, line width=0.6pt] (8,0) to[out=90,in=270] (8,1);

\draw [green, line width=0.6pt] (-8,1) to[out=90,in=270] (-8,2);
\draw [green, line width=0.6pt] (-6,1) to[out=90,in=270] (-6,2);
\draw [green, line width=0.6pt] (-4,1) to[out=90,in=270] (-4,2);
\draw [green, line width=0.6pt] (-2,1) to[out=90,in=270] (-2,2);
\draw [green, line width=0.6pt] (2,1) to[out=90,in=270] (2,2);
\draw [green, line width=0.6pt] (4,1) to[out=90,in=270] (4,2);
\draw [green, line width=0.6pt] (6,1) to[out=90,in=270] (6,2);
\draw [green, line width=0.6pt] (8,1) to[out=90,in=270] (8,2);

\draw [green, line width=0.6pt] (-8,2) to[out=90,in=270] (-8,4);
\draw [green, line width=0.6pt] (-4,2) to[out=90,in=270] (-4,4);
\draw [green, line width=0.6pt] (4,2) to[out=90,in=270] (4,4);
\draw [green, line width=0.6pt] (8,2) to[out=90,in=270] (8,4);

\draw [green, line width=0.6pt] (-8,4) to[out=90,in=270] (-8,8);
\draw [green, line width=0.6pt] (8,4) to[out=90,in=270] (8,8);

\node [anchor=225, red] at (-8,0.5) {16};
\node [anchor=225, red] at (-7,0.5) {14};
\node [anchor=225, red] at (-6,0.5) {12};
\node [anchor=225, red] at (-5,0.5) {10};
\node [anchor=225, red] at (-4,0.5) {8};
\node [anchor=225, red] at (-3,0.5) {6};
\node [anchor=225, red] at (-2,0.5) {4};
\node [anchor=225, red] at (-1,0.5) {2};
\node [anchor=225, red] at (0,0.5) {0};
\node [anchor=225, red] at (1,0.5) {-2};
\node [anchor=225, red] at (2,0.5) {-4};
\node [anchor=225, red] at (3,0.5) {-6};
\node [anchor=225, red] at (4,0.5) {-8};
\node [anchor=225, red] at (5,0.5) {-10};
\node [anchor=225, red] at (6,0.5) {-12};
\node [anchor=225, red] at (7,0.5) {-14};
\node [anchor=225, red] at (8,0.5) {-16};

\node [anchor=225, red] at (-8,1) {8};
\node [anchor=225, red] at (-7,1) {7};
\node [anchor=225, red] at (-6,1) {6};
\node [anchor=225, red] at (-5,1) {5};
\node [anchor=225, red] at (-4,1) {4};
\node [anchor=225, red] at (-3,1) {3};
\node [anchor=225, red] at (-2,1) {2};
\node [anchor=225, red] at (-1,1) {1};
\node [anchor=225, red] at (0,1) {0};
\node [anchor=225, red] at (1,1) {-1};
\node [anchor=225, red] at (2,1) {-2};
\node [anchor=225, red] at (3,1) {-3};
\node [anchor=225, red] at (4,1) {-4};
\node [anchor=225, red] at (5,1) {-5};
\node [anchor=225, red] at (6,1) {-6};
\node [anchor=225, red] at (7,1) {-7};
\node [anchor=225, red] at (8,1) {-8};

\node [anchor=225, red] at (-8,2) {4};
\node [anchor=225, red] at (-6,2) {3};
\node [anchor=225, red] at (-4,2) {2};
\node [anchor=225, red] at (-2,2) {1};
\node [anchor=225, red] at (0,2) {0};
\node [anchor=225, red] at (2,2) {-1};
\node [anchor=225, red] at (4,2) {-2};
\node [anchor=225, red] at (6,2) {-3};
\node [anchor=225, red] at (8,2) {-4};

\node [anchor=225, red] at (-8,4) {2};
\node [anchor=225, red] at (-4,4) {1};
\node [anchor=225, red] at (0,4) {0};
\node [anchor=225, red] at (4,4) {-1};
\node [anchor=225, red] at (8,4) {-2};

\node [anchor=225, red] at (-8,8) {1};
\node [anchor=225, red] at (0,8) {0};
\node [anchor=225, red] at (8,8) {-1};

\node[circle,fill=black,inner sep=1pt,minimum size=3pt] (a) at (-8,8) {};
\node[circle,fill=black,inner sep=1pt,minimum size=3pt] (b) at (-3,1) {};

\draw [black, line width=1.2pt] (-8,7.7) to[out=90,in=270] (-8,1.33);
\draw [black, line width=1.2pt] (-8,1) to[out=0,in=180] (-3,1);

\draw [purple, line width=1.2pt] (-8,8) to[out=0,in=180] (-3,8);
\draw [purple, line width=1.2pt] (-3,7.67) to[out=90,in=270] (-3,1.33);

\draw [brown, line width=1.2pt] (-8,8) to[out=0,in=180] (-7,8);
\draw [brown, line width=1.2pt] (-7,7.8) to[out=90,in=270] (-7,4.2);
\draw [brown, line width=1.2pt] (-7,4) to[out=0,in=180] (-5,4);
\draw [brown, line width=1.2pt] (-5,3.9) to[out=90,in=270] (-5,2.1);
\draw [brown, line width=1.2pt] (-5,2) to[out=0,in=180] (-3,2);
\draw [brown, line width=1.2pt] (-3,2) to[out=90,in=270] (-3,1);

\draw [orange, line width=1.2pt] (-8,8) to[out=45,in=105] (-3,1);

\end{tikzpicture}
\caption{连接两点的多条路径}\label{fig:pathex1}
\end{figure}

可以理解，在乘法分配律作用下，把一些项合并与拆解，上述几个表达式可以互相转化。

从棕到黑的路径转化
\begin{align}
3 & = (((1 - \frac{1}{8}) \times 2 - \frac{1}{2}) \times 2 - 1) \times 2 \\
& = 1 \times 8 -  \frac{1}{8} \times 8 - \frac{1}{2} \times 4 - 1 \times 2 \\
& = 1 \times 8 - 5
\end{align}

从棕到紫的路径转化
\begin{align}
3 & = (((1 - \frac{1}{8}) \times 2 - \frac{1}{2}) \times 2 - 1) \times 2 \\
& = (1 - \frac{1}{8}) \times 8 - \frac{1}{2} \times 4 -  1 \times 2 \\
& = (1 - \frac{1}{8}) \times 8 - \frac{1}{4} \times 8 -  \frac{1}{4} \times 8 \\
& = (1 - \frac{1}{8} - \frac{1}{4} - \frac{1}{4}) \times 8 \\
& = (1 - \frac{5}{8}) \times 8
\end{align}

我们可规定黑、紫路径是一对典范路径，所有连接如上图的赋值 $1$ 和 $3$ 之间的路径，
都可以转换到这对典范路径上。有了连接两点的典范路径，任意给定空间里的一个原点$O$，对空间里的任一点$P$，
连接$O$、$P$的典范路径就给出了相对于$O$点的整个空间的典范形式。

\subsection{流方程的引入}

下面我们引入流方程，去刻画一个无穷小范围内的表达式生成。假设加法生成元是 $\mu$，乘法生成元是 $e^\lambda$， 我们可以建立方程

\begin{equation}
    a_{\delta} = (a_0 + \mu \epsilon \cos \theta)e^{\lambda \epsilon \sin \theta}
\end{equation}

或者

\begin{equation}
    a_{\delta} = a_0 e^{\lambda \epsilon \sin \theta} + \mu \epsilon \cos \theta
\end{equation}

二者可化简为

\begin{equation}
    a_{\delta} = a_0 + \epsilon (a_0 \lambda \sin \theta + \mu \cos \theta)
\end{equation}

于是

\begin{equation}
    \frac{1}{\delta} (a_{\delta} - a_0) = \frac{\epsilon}{\delta} (\mu \cos \theta + x_0 \lambda \sin \theta)
\end{equation}

当 $\delta$ 和 $\epsilon$ 同时趋于零，就得到了 $da / dt$，即

\begin{equation}
    \frac{da}{dt} = u (\mu \cos \theta + a \lambda \sin \theta)
\end{equation}

也可改写为其他形式

\begin{equation}
    \frac{da}{ds} = \mu \cos \theta + a \lambda \sin \theta\label{eq:flow}
\end{equation}

可证上节的例子满足流方程，在附件一里可以找到证明。

\subsection{梯度-等值线坐标系}

易导出局部坐标系下的等值线方程

\begin{equation}
    \mu \cos \theta_c + a \lambda \sin \theta_c = 0
\end{equation}

故有

\begin{equation}
    \theta_c = - \arctan \frac{\mu}{a \lambda}
\end{equation}

等值线和梯度两者彼此垂直

\begin{equation}
    \theta_g = \pm \frac{\pi}{2} - \arctan \frac{\mu}{a \lambda}
\end{equation}

故沿 $\theta_g$ 我们有

\begin{equation}
    \frac{da}{ds} = \mu \cos (\pm \frac{\pi}{2} - \arctan \frac{\mu}{a \lambda}) + a \lambda \sin (\pm \frac{\pi}{2} - \arctan \frac{\mu}{a \lambda})
\end{equation}

\begin{equation}
    \frac{da}{ds} = \pm \sqrt{\mu^2 + \lambda^2 a^2}\label{eq:grad}
\end{equation}

方程 \eqref{eq:grad} 可解，得到了沿梯度流线 $a$ 和 $s$ 的关系：

\begin{equation}
    \pm \tanh(\lambda s + c) = \frac{\lambda a}{\sqrt{\mu^2 + \lambda^2 a^2}}
\end{equation}

如约定 $\mu > 0$，可进一步变形：

\begin{equation}
  a = \pm \frac{\mu}{\lambda} \sinh(c \pm \lambda s)\label{eq:gradevo}
\end{equation}

在梯度方向的基础上按右手螺旋引入转角 $\phi$，建立梯度-等值线为参照的局部极坐标系，则沿角 $\phi$ 移动时 $a$ 的增长率为

\begin{equation}
    \frac{da}{ds} = \mu \cos (\frac{\pi}{2} - \arctan \frac{\mu}{a \lambda} + \phi) + a \lambda \sin (\frac{\pi}{2} - \arctan \frac{\mu}{a \lambda} + \phi)
    \label{eq:fourfold}
\end{equation}

化简得

\begin{equation}
    \frac{da}{ds} = \sqrt {\mu^2 + a^2 \lambda^2} \cos \phi\label{eq:contourgradient}
\end{equation}

此即梯度-等值线坐标系下的流方程。

在这个坐标系下，加线和乘线分别为：

\begin{equation}
    \phi = \arccos \frac{\mu}{\sqrt {\mu^2 + a^2 \lambda^2}} \label{eq:additionalline}
\end{equation}

\begin{equation}
    \phi = \arccos \frac{a \lambda}{\sqrt {\mu^2 + a^2 \lambda^2}}\label {eq:mulitiplcativeline}
\end{equation}

\subsection{第二个例子的构造大意}

式\ref{eq:gradevo} 给到了 $a$ 和 $s$ 的关系，启发我们用火烧法去研究与零线等距的超圆族。

\begin{figure}[ht]
\centering
\begin{tikzpicture}
    \tkzDefPoint(0,0){O}
    \tkzDefPoint(-4,0){O1}
    \tkzDefPoint(4,0){O2}
    \tkzDefPoint(0,-4){V1}
    \tkzDefPoint(0,4){V2}
    \tkzDefPoint(0,-5){K2}
    \tkzDefPoint(0,1.44){X}

    \tkzDefCircle[apollonius,K=2](O1,O2) \tkzGetPoint{K1} \tkzGetPoints{A}{B} \tkzGetLength{rAp}
    \tkzInterCC(O,O2)(K1,A) \tkzGetPoints{C}{D}

    \tkzDrawCircle[color=red,fill=red](O,O1)
    \tkzDrawArc[R with nodes,color=green](K1,\rAp pt)(C,D)
    \tkzDrawArc[R with nodes,color=blue](K2,183 pt)(O2,O1)

    \tkzDefMidPoint(O,V2) \tkzGetPoint{M}
    \tkzInterLC(M,O2)(K1,A) \tkzGetPoints{L}{N}

    \tkzDrawSegment[color=blue](O1,O2)
    \tkzDrawSegment[color=green](V1,V2)
    \tkzDrawCircle[R,fill=black](N,1 pt)
    \tkzDrawCircle[R,fill=black](A,1 pt)
    \tkzDrawCircle[R,fill=black](O,1 pt)
    \tkzDrawCircle[R,fill=black](X,1 pt)

    \tkzLabelPoint[below right](A){$P$}
    \tkzLabelPoint[above right](N){$Q$}
    \tkzLabelPoint[below left](O1){$\Omega_r$}
    \tkzLabelPoint[below right](O2){$\Omega_l$}
    \tkzLabelPoint[below](V1){$\Omega_b$}
    \tkzLabelPoint[above](V2){$\Omega_a$}
    \tkzLabelPoint[below left](O){$O$}
    \tkzLabelPoint[above left](X){$R$}
    \tkzLabelLine[blue,left](A,N){$s$}
    \tkzLabelLine[blue,left](O,X){$s$}

\end{tikzpicture}
\caption{沿着超圆的对称性}\label{fig:appolo}
\end{figure}

如图\ref{fig:appolo}，我们从零线 $\Omega_r O \Omega_l$ 开始燃烧，超圆$\Omega_r R \Omega_l$ 各处距离零线都为 $s$ 。
所以，当我们沿超圆从 $R$ 移动到 $Q$ ，同时零线上的 $O$ 移动到了 $P$，在这个过程中，距离 $s$ 保持不变，反映了一种平移运动中的对称性。

如图\ref{fig:merged}，当我们把这种对称性和四阶无限边形铺嵌结合在一起观察的时候，
我们会发现，平移对称性适当离散化后，可以保持四阶无限边形铺嵌不变。

\begin{figure}[ht]
\centering

\begin{tikzpicture}
\begin{scope}[line width=0.3pt]
    \draw (0, 0) node[inner sep=0] {\includegraphics[width=3.142in]{images/t4097.png}};
    \tkzDefPoint(0,0){O}
    \tkzDefPoint(-4,0){O1}
    \tkzDefPoint(4,0){O2}
    \tkzDefPoint(0,-4){V1}
    \tkzDefPoint(0,4){V2}
    \tkzDefPoint(-5, 0){K2}

    \tkzDefCircle[apollonius,K=2.415](V1,V2) \tkzGetPoint{K1} \tkzGetPoints{A}{B} \tkzGetLength{rAp}
    \tkzInterCC(O,V2)(K1,A) \tkzGetPoints{C}{D}
    \tkzInterCC(K2,V2)(K1,A) \tkzGetPoints{L}{N}

    \tkzDrawCircle[color=black](O,V1)
    \tkzDrawArc[R with nodes,color=gray](K1,\rAp pt)(C,D)
    \tkzDrawArc[R with nodes,color=yellow](K2,183 pt)(V1,V2)

    \tkzDrawSegment[color=blue](O1,O2)
    \tkzDrawSegment[color=blue](V1,V2)
    \tkzDrawCircle[R,fill=black](N,1 pt)

    \tkzLabelPoint[below](V1){$\Omega_{s}$}
    \tkzLabelPoint[above](V2){$\Omega_{n}$}
    \tkzLabelLine[blue,above](A,N){$s$}

    \tkzDefPoint(2.82,0){P}
    \tkzDefPoint(3.36,1.13){Q}
    \tkzDefPoint(4,0){R}
    \tkzDefPoint(3.773,1.32){S}
    \tkzDrawCircle[R,fill=black](O,1 pt)
    \tkzDrawCircle[R,fill=black](P,1 pt)
    \tkzDrawCircle[R,fill=black](Q,1 pt)
    \tkzDrawCircle[R,fill=black](R,1 pt)
    \tkzDrawCircle[R,fill=black](S,1 pt)
    \tkzLabelPoint[below left](O){$O$}
    \tkzLabelPoint[below left](P){$P$}
    \tkzLabelPoint[left](Q){$Q$}
    \tkzLabelPoint[right](R){$\Omega_{1}$}
    \tkzLabelPoint[right](S){$\Omega_{2}$}

\end{scope}
\end{tikzpicture}
\caption{四阶无限边形铺嵌里的对称性}\label{fig:merged}
\end{figure}

另一方面，当火线离开零线推进的时候，我们可以观察到，火线的梯度方向和四阶无限边形存在如下的搭配关系：

\begin{itemize}
    \item 火线沿 $O\Omega_{1}$ 向前传播，梯度方向始终和 $O\Omega_{1}$ 一致。
    \item 火线到达 $P$ 点，$PQ$ 上每点的切线都与火线到达时的梯度，它们的夹角会均匀地从 $\frac{\pi}{2}$ 变化到 $0$。
    \item 于是进一步，火线沿 $Q\Omega_{2}$ 向前传播，梯度方向始终和 $Q\Omega_{2}$ 一致。
    \item 上述情况反复出现……
\end{itemize}

这些直观的观察是在讨论四阶无限边形铺嵌的某种对称性。围绕这个对称性，结合公式 \ref{eq:fourfold} ，
就可以对无限边形染色，其中的每种颜色代表前述公式里一种符号的选择。

\subsection{四阶无限边形铺嵌里的问题}

第二个例子目前还没能严格化，是因为四阶无限边形铺嵌的详细构造还没有严格给出。但我们通过数值计算已经得到一些有用的思路。

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{scope}[line width=0.3pt]
            \draw (0, 0) node[inner sep=0] {\includegraphics[width=6.284in]{images/apeirogon.png}};
        \end{scope}
    \end{tikzpicture}
    \caption{四阶无限边形铺嵌}\label{fig:apeirogon}
\end{figure}

我们发现用上半平面模型计算四阶无限边形铺嵌的构造细节是最方便的，不涉及超越函数。它被化归为一个 Apollonian gasket 的构造。
一个四阶无限边形臂都有共同的切圆和接圆。我们数值求出了切圆和接圆的坐标，并规范到严格的表达式。
作为副产品，这个构造过程可以导出一个类似 Calkin–Wilf 生成树一样的 $\mathbb{Q}[\sqrt{2}]$ 的生成树。
但仍然需要去严格证明这个构造成立。

为了证明四阶无限边形铺嵌的构造成立，我们需证明上图中存在一个趋于零的点列$p_i$，同时伴随一个二等分角的序列。
理论上可以通过数学归纳法，在初等几何下证明该命题，但计算过于繁复，目前还没有走通。

\subsection{复化与对偶的想法}

经过一段时间的思考和探索，产生了一些想法，还没有经受足够多例子的验算与严格证明的支持。我犹豫再三决定还是写上，虽然可能还有错误，
但代表了一种思考方向。

在算法的领域，我们常常能够发现算法的效率和数据结构之间存在一定的对易关系。数据结构精巧复杂，算法就可能会快一些；反之，数据结构朴素直白，算法可能就会慢一些。
在我们这里，算术表达式的典范形态相当于一种表达式的组织方式，而几何流相当于算法的执行。Laplace 算子出现在这里，让我们不能不想到大数乘法的快速算法里
有 FFT 的出现，而 FFT 本身就是来自调和分析。这给到我们一个暗示，有没有可能典范形态对应空间复杂度，几何流对应时间复杂度？于是，恰当的典范形态就是一张
缓缓张开的极小曲面？

我们已经观察到赋值是 Laplace 算子的某些特征向量，同时共形变换保持流方程不变，但特征值不是共形不变量，特征值的模平方是共形不变量。
这就引导我们去想把问题适当的复化，同时还要保持原始问题里的信息。梯度-等值线坐标给出以后，在一定边界条件下，我们或许可以研究把梯度和等值线的地位互易，
这样总共得到两个函数，然后对它们复化。

这个想法的基本动机是这样：特征值模平方不变是一个圆，不妨称为特征圆。有没有这样的可能？
赋值 $A$ 有等值线和梯度线，我们交换等值线和梯度线的地位，并在适当的边界条件下，得到 $A$ 的共轭 $B$。
我们对 $A$、$B$ 都施加同样的共形变换并加以观察。在某些情况下，$A$ 会变成一个调和函数 $f$，类似， $B$ 在某些情况下也会变为一个调和函数 $g$。
当我们同时观察 $A$、$B$，有种很强的直观， 就是 A 变成 f 的时候，B 正好远离 g；而 B 变成 g 的时候，正好 A 远离 f。
我们需要通过某种方式把 $f$ 和 $g$ 组合起来，得到一个复函数 $h$，于是 $f$、$g$、$h$ 都是 Laplace 算子同一个特征值的特征向量。
这样，$f$ 和 $g$ 都出现在复函数 $h$ 的特征圆上，并体现为周期上的相位差。

与此相关的，还有另外一个基于几何直观的猜测，在每个局部，我们都有梯度-等值线坐标系和加乘坐标系存在一个交角，这可能会导致一个有趣的事情。
给定庞加莱圆盘上的一个基本域，它延展开可以得到一个以该基本域为基础的铺嵌，那么这个铺嵌作为图有一个对偶图，也是一个铺嵌，
这个对偶铺嵌的基本域和原来的基本域，彼此形成对偶。总有一种几何上的感觉，这一对儿基本域，一个和原来的加乘坐标系联系，是刻画空间；
另一个和梯度-等值线坐标系联系，是刻画时间；空间沿着时间的线可以折叠起来，刚好就是沿着坐标系轴线来折叠。
这两个基本域的位置差，就是前面说的共形不变的特征值圆上的相位差。

很多时候，我们考虑双曲的问题，计算都依赖复变函数。但复变函数里解析的定义，是同欧式调和相联系。
有没有可能，可以通过双曲平面自身的 Laplace、算子、调和、共形不变性作为基础来发展一种函数论呢？比如重新定义着一种新的解析函数？

但我目前能力和手段有限，比较难去澄清和验证这些直观的想法。

\subsection{可能的管形构造的给出}

如果上面四阶无限边形铺嵌的构造问题可以顺利解决，会使得第二个例子的构造成立，这种情况下，我们可以讨论一个管型构造。
在附件一里，我们给出了任意生成元下的流方程。

\begin{figure}[ht]
\centering
\includegraphics[width=4in]{images/assignment2.png}
\caption{管型构造上的一个切片}
\end{figure}

管型构造是在如上的离散网格基础上构造出来。如果固定加法生成元的系数为一，不断变化乘法生成元的系数，但不改变底层的网格设置，如此我们就得到一系列的切片。
然后，我们把所有的切片堆叠起来，就得到了管型构造。管型构造是异常深刻的对象。

加乘生成元的不同组合，会导致庞加莱圆盘上可能会有多条零线。
对乘法生成元 $e$ 来说，因为它的超越性和 Lindemann-Weierstrass 定理，只有一条零线；但对于普通的正整数，因为加乘搭配带来的整除关系，零线会有多条。
但如果我们黏合零线，我们会得到不同的 2 维流形。

同时，如果我们固定了庞加莱圆盘上的一点，每个切片都选择该位置的点，连起来就得到一条直线，我们如果研究直线上的赋值，就会发现它和一个多项式有关系。

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{scope}[line width=0.3pt]
            \draw (0, 0) node[inner sep=0] {\includegraphics[width=6.284in]{images/tube.png}};
        \end{scope}
    \end{tikzpicture}
    \caption{管型构造}\label{fig:tube}
\end{figure}

这样的话，我们用一条代表多项式的线串接了无数 2 维流形上的点。如果这个构造能够成立，它会是非同寻常的数学对象。

\end{document}




