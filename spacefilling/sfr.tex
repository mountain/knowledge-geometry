\documentclass{article}

\usepackage{arxiv}

\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage[english]{babel}
\usepackage{amsthm}
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{amssymb}
\usepackage{gensymb}
\usepackage{cite}

\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{leftidx}

\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\newtheorem{program}{Program}
\newtheorem{convention}{Convention}
\newtheorem{theorem}{Theorem}

\usepackage{stmaryrd}
\usepackage{mathtools}

\usepackage{tikz}
\usetikzlibrary{lindenmayersystems}
\usetikzlibrary[shadings]

\title{Hilbert spiral: A curve fills the whole plane}

%\date{September 9, 1985}	% Here you can change the date presented in the paper title
%\date{} 					% Or removing it

\author{
  Mingli~Yuan \\
  AI Lab \\
  ColorfulClouds Tech.\\
  Beijing, 100083 \\
  \texttt{mingli.yuan@caiyunapp.com} \\
  %% examples of more authors
  %% \AND
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
  %% \And
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
  %% \And
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
}

% Uncomment to remove the date
%\date{}

% Uncomment to override  the `A preprint' in the header
%\renewcommand{\headeright}{Technical Report}
%\renewcommand{\undertitle}{Technical Report}

\begin{document}
\maketitle

\begin{abstract}
    Hilbert curve is a space-filling curve that fills the unit square.
    Based on Hilbert-type curves, we give the construction of Hilbert spiral
    which fills the whole Euclidean plane $E_2$.
\end{abstract}

\keywords{Space-filling curve \and Hilbert curve \and Hilbert spiral}

\setcounter{tocdepth}{2}
\tableofcontents

\section{Background}\label{sec:background}

Hilbert-type curves is a family of space-filling curves that fills the unit square.
The construction of Hilbert curves can be expressed as a Lindenmayer system with a visual interpretation~\cite{Prusinkiewicz1990TheAB}.

For example, the Hilbert curve discovered by David Hilbert himself can be constructed by
rule~\ref{rule:hilbert-curve}.

\begin{itemize}
    \label{rule:hilbert-curve}
    \item Hilbert curve
    \begin{itemize}
      \item axiom: L
      \item angle: $90\degree$
      \item scale factor: 0.5
      \item rules: \begin{itemize}
          \item[$\circ$] $L \mapsto +RF-LFL-FR+ $
          \item[$\circ$] $R \mapsto -LF+RFR+FL- $
      \end{itemize}
    \end{itemize}
\end{itemize}

With a visual interpretion of the symbols,
\begin{itemize}
  \item F: draw a line with one fix-length step
  \item +: turn left to a specific angle predefined
  \item -: turn right to a specific angle predefined
  \item others: other symbols are denoted the state of transformation steps
\end{itemize}
the first several steps of the construction can be visualized as figure~\ref{fig:hilbert-curve}.

\pgfdeclarelindenmayersystem{Hilbert curve}{
  \rule{L -> +RF-LFL-FR+}
  \rule{R -> -LF+RFR+FL-}
}

\begin{figure}[ht]
\centering
\begin{tabular}{ccccc}
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert curve, axiom=L, order=1, step=32pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert curve, axiom=L, order=2, step=16pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert curve, axiom=L, order=3, step=8pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert curve, axiom=L, order=4, step=4pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert curve, axiom=L, order=5, step=2pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
\\
\end{tabular}
\caption{the construction of Hilbert curve}
\label{fig:hilbert-curve}
\end{figure}

With different initial axioms and rules, a family of Hilbert-type curves had been discovered by
Hilbert~\cite{Sagan1994SpacefillingC1}, Moore~\cite{Sagan1994SpacefillingC2}, Liu~\cite{Liu2004FourAP} and
Perez-Davidenko et al~\cite{PrezDemydenko2013LocalityPH}.
For example, the construction of Hilbert-type curve $\leftidx{_4}{H}{_4}$ of Liu can be constructed by

\begin{itemize}
    \label{rule:liu-curve}
    \item Liu's $\leftidx{_4}{H}{_4}$ curve
    \begin{itemize}
      \item axiom: G
      \item scale factor: 0.5
      \item rules: \begin{itemize}
          \item[$\circ$] $G \mapsto +RF-LFL-FZ+ $
          \item[$\circ$] $Z \mapsto RF-LFL-FR $
          \item[$\circ$] $L \mapsto +RF-LFL-FR+ $
          \item[$\circ$] $R \mapsto -LF+RFR+FL- $
      \end{itemize}
    \end{itemize}
\end{itemize}

\pgfdeclarelindenmayersystem{Liu curve}{
  \rule{G -> +RF-LFL-FZ+}
  \rule{Z -> RF-LFL-FR}
  \rule{L -> +RF-LFL-FR+}
  \rule{R -> -LF+RFR+FL-}
}

\begin{figure}[ht]
\centering
\begin{tabular}{ccccc}
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Liu curve, axiom=G, order=1, step=32pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Liu curve, axiom=G, order=2, step=16pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Liu curve, axiom=G, order=3, step=8pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Liu curve, axiom=G, order=4, step=4pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Liu curve, axiom=G, order=5, step=2pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
\\
\end{tabular}
\caption{the construction ${}_4H_4$ of Liu}
\end{figure}

\section{Hilbert spiral}\label{sec:space-filling}

Using Hilbert curve and $\leftidx{_4}{H}{_4}$ of Liu as components, we can give the construction of Hilbert spiral.
The basic idea is quite simple - besides the standard downward recursive construction of Hilbert-type curves,
we add an upward process to make a spiral.
As a result, we get a space-filling curve that fills the whole plane.

\pgfdeclarelindenmayersystem{Hilbert spiral 1}{
  \rule{s1 -> ZF-G}
  \rule{G -> +RF-LFL-FZ+}
  \rule{Z -> RF-LFL-FR}
  \rule{L -> +RF-LFL-FR+}
  \rule{R -> -LF+RFR+FL-}
}
\pgfdeclarelindenmayersystem{Hilbert spiral 2}{
  \rule{s2 -> ZFRFZ+F+Z+F+ZFRFZ+F+ZF-G}
  \rule{G -> +RF-LFL-FZ+}
  \rule{Z -> RF-LFL-FR}
  \rule{L -> +RF-LFL-FR+}
  \rule{R -> -LF+RFR+FL-}
}
\pgfdeclarelindenmayersystem{Hilbert spiral 3}{
  \rule{s3 -> ZFRFRFZ+F+Z+F+Z+F+ZFRFRFZ+F+Z+F+ZFRFZ+F+ZF-G}
  \rule{G -> +RF-LFL-FZ+}
  \rule{Z -> RF-LFL-FR}
  \rule{L -> +RF-LFL-FR+}
  \rule{R -> -LF+RFR+FL-}
}
\pgfdeclarelindenmayersystem{Hilbert spiral 4}{
  \rule{s4 -> ZFRFRFRFZ+F+Z+F+Z+F+Z+F+ZFRFRFRFZ+F+Z+F+Z+F+ZFRFRFZ+F+Z+F+ZFRFZ+F+ZF-G}
  \rule{G -> +RF-LFL-FZ+}
  \rule{Z -> RF-LFL-FR}
  \rule{L -> +RF-LFL-FR+}
  \rule{R -> -LF+RFR+FL-}
}

\begin{figure}[ht]
\centering
\begin{tabular}{cccc}
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 1, axiom=s1, order=2, step=16pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 2, axiom=s2, order=2, step=16pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 3, axiom=s3, order=2, step=16pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 4, axiom=s4, order=2, step=16pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
\end{tabular}
\caption{the upward construction of Hilbert spiral}
\end{figure}


\begin{figure}[ht]
\centering
\begin{tabular}{cccc}
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 1, axiom=s1, order=2, step=16pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 2, axiom=s2, order=3, step=8pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 3, axiom=s3, order=4, step=4pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
&
\begin{tabular}{c}
    \begin{tikzpicture}
        \shadedraw [bottom color=white, top color=white, draw=red!80!black]
        [l-system={Hilbert spiral 4, axiom=s4, order=5, step=2pt, angle=90}]
        lindenmayer system;
    \end{tikzpicture}
\end{tabular}
\end{tabular}
\caption{the construction of Hilbert spiral with upward and downward process together}
\end{figure}

\section{Conclusion}\label{sec:conclusion}

\bibliography{references}{}
\bibliographystyle{plain}
\end{document}
