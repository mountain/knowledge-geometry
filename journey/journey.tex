\documentclass[a4paper,12pt]{article}
\usepackage{amsmath, amsthm}
\usepackage{datetime}
\usepackage{framed}
\usepackage{enumitem}
\usepackage{fancyref}
\usepackage{wrapfig}
\usepackage{pifont}
\usepackage{appendix}
\usepackage{caption}
\usepackage{xcolor}

\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{mathtools}

\usepackage{tikz}
\usepackage{qtree}
\usetikzlibrary{fit,arrows,calc}
\usepackage{pgfplots}

\usepackage{csquotes}
\renewcommand{\mkbegdispquote}[2]{\itshape}

\newdateformat{nianyueri}{ \THEYEAR 年 \THEMONTH 月 \THEDAY 日 }

\usepackage{data/circledsteps}
\input{data/style}

\usepackage{stmaryrd}
\usepackage{mathtools}
\usepackage{wasysym}
\usepackage{textcomp}
\usepackage{subfiles}

\newtheorem{definition}{定义}
\numberwithin{definition}{section}
\newtheorem{lemma}{引理}
\numberwithin{lemma}{section}
\newtheorem{proposition}{命题}
\numberwithin{proposition}{section}
\newtheorem{theorem}{定理}
\numberwithin{theorem}{section}
\newtheorem{grammar}{文法}
\numberwithin{grammar}{section}
\newtheorem{program}{程序}
\numberwithin{program}{section}
\newtheorem{convention}{约定}
\numberwithin{convention}{section}
\newtheorem{corollary}{推论}
\numberwithin{corollary}{section}
\renewcommand*{\proofname}{证明}

\xeCJKsetwidth{‘’“”}{1em}

\title{数字丛林里的远足\\
\large 从词向量到算术表达式的几何}
\date{2021 年 6 月}
\author{苑明理}

\begin{document}
\maketitle{}
\centerline{\rule{13cm}{0.4pt}}
\renewcommand{\contentsname}{\hfill\bfseries 目录\hfill}
\setcounter{tocdepth}{2}
\tableofcontents
\centerline{\rule{13cm}{0.4pt}}
\newpage

\section{引言}

几千年来，最基本的数学对象之一—算术表达式，一直都是以一种离散的方式存在。数通过四则运算连接在一起，构成了算术表达式，
除了一些代数变形可以连接不同的表达式；但两个表达式 $A$ 和 $B$ 之间没有好的、几何的连接方式，从而整体上算术表达式也没有构成一个几何空间。
那么，究竟有没有算术表达式的几何化方式呢？在本文我们将会给出一个思路。

事情可以追溯到 2015 年底，当时我在上海短居。在考虑用词向量技术表达整数的时候，我发现可以构造一种有趣的、双曲平面上的离散结构。
当看到那些蜿蜒到无穷的折线和均匀的数值分布时，我意识到可能发现了一个有着丰富内涵的数学结构。其后的几年我一直在反复琢磨它。

2019 年 10 月底我去美国出差，11 月初在回国的飞机上，我偶然发现了这种构造方式可以推广到无穷小。
一两天后，我得到了双曲平面上无穷小生成结构的流方程。和中山大学的蒋文峰老师讨论后，他给到我很多好的建议，鼓励我一步步走下去。

2019 年底到 2020 年夏，我在努力把这个结果应用到一种重要的神经网络上—残差网络，可以得到一类特殊的网络架构来解决演化问题。
几个月的努力，逐步得到了一些有趣的神经网络架构，虽然在一些演化问题上它还没有达到工业界的最佳水平，但也有着良好的性能，
至少可以说明这种几何化的想法在实践中是可行的。这些应用角度的努力，也可以从理论角度给予解读，是在探索另外一种微积分的可能性。

2020 年底，在和英国的刘宇老师讨论后，他问了我几个特别好的问题，促使我重新思考，结果发现无穷小生成元的选择是自由的，
这样就导出了一个非常深刻的管型构造，这个管型构造能和多项式联系起来，是一种纤维结构。
但是这些几何构造还仅仅存在于设想中，它还欠缺一个严密的理论基础和经过证明的实例。

于是，在2021 年初，我从公司（彩云科技）争取了三个月的时间，在实习生张乐和张怀公的帮助下，我们一起找到了第一个严格的、
可以解算的实例（张乐的工作），也找到了一般情况下的表述方法（张怀公的工作）。

本文会沿着真实思路发展的线索，陈述这个算术表达式几何化的想法。在本文中，我们不给出证明细节，只是说明思路大意。
我们还在另外撰写一篇英文文档，在那里会给出证明和各种技术细节。

有一种理解，算术表达式的计算过程比它的计算结果包含了更为丰富的信息，简单说，就是“过程比结果更重要”。
在此，我也想表达，如果我们的历程是数字丛林里的一次探险，那么探险的事业永远没有止境。

\newpage

\section{词向量与数}

\subsection{词向量}\label{subsec:wembeding}

在计算语言学的研究中，从 1978 年 Salton 的 VSM 模型起 \cite{Almeida2019WordEA}，人们为了方便计算，
常常把词汇表示成向量，并称这种表示为词嵌入。 2013 年 Mikolov 的论文 \cite{Mikolov2013EfficientEO} 发表后，
人们开始认识到，一类称为正则的嵌入方式是特别值得关注的，它们拥有一种组合性\cite{Mikolov2013DistributedRO}。
这里，我们把这种组合性归纳为：
\begin{enumerate}
\item 词和词之间的关系是有意义的
\item 同义的关系是平行的
\item 词和关系可以通过向量运算组合起来，形成一个格网
\end{enumerate}

\begin{figure}[ht]
\centering
\begin{tikzpicture}[x=0.5cm,y=0.5cm,z=0.3cm,>=stealth]
\draw[->] (xyz cs:x=-7.0) -- (xyz cs:x=7.0) node[above] {$x_0$};
\draw[->] (xyz cs:y=0) -- (xyz cs:y=7.0) node[right] {$x_n$};
\draw[->] (xyz cs:z=-7.0) -- (xyz cs:z=7.0) node[above] {$x_i$};

\node[fill,circle,inner sep=1.5pt,label={left:$king$}] (p) at (xyz cs:x=-3.0, y=3.0, z=-3.0) {};
\node[fill,circle,inner sep=1.5pt,label={right:$man$}] (q) at (xyz cs:x=2.0, y=-3.0, z=3.0) {};
\node[fill,circle,inner sep=1.5pt,label={left:$queen$}] (r) at (xyz cs:x=-3.0, y=3.0, z=3.0) {};
\node[fill,circle,inner sep=1.5pt,label={right:$woman$}] (s) at (xyz cs:x=2.0, y=-3.0, z=9.0) {};
\draw[dashed, blue] (p) -- (q);
\draw[dashed, blue] (r) -- (s);
\draw[dashed, red] (p) -- (r);
\draw[dashed, red] (q) -- (s);
\end{tikzpicture}
\caption{正则词嵌入的组合性}
\label{fig:compositionality}
\end{figure}

上图的示例可以简述为：男人、国王、女人、女王四个词形成一个平行四边形，其中有两对同义的关系
\begin{enumerate}
\item femalize：女性化的维度，从男人到女人、从国王到女王
\item royalize：皇权的维度，从男人到国王、女人到女王
\end{enumerate}

而几何上的平行四边形也可以通过$royalize$与$femalize$两个运算的可交换性来表达：
$$
    royalize(femalize(man)) = femalize(royalize(man))
$$

或者通过下面的交换子为零来表示
$$
    royalize(femalize(man)) - femalize(royalize(man)) = 0
$$

因为机器学习模型的统计特点，这里的组合性只是一种近似关系。机器学习界指出了组合性的存在，但并没有沿这个方向走太远。

\subsection{离散赋值网格}\label{subsec:assignment}

整数和整数之间存在很多关系，但是如果我们把 $\cdot + 1$ 和 $\cdot \times 2$ 视为基本关系，
并要求相同基本关系的连线彼此必须平行，我们能得到什么？ 此时，我们发现：

$$
[(x + 1) \times 2] - (x \times 2 + 1) = 1
$$

这说明平行四边形永远无法存在。我们知道双曲空间是一种不存在平行四边形的空间，
简单尝试就可以把$\cdot + 1$关系、 $\cdot \times 2$关系和所有整数安排到双曲空间的一个网格上。

\begin{figure}[ht]
\centering
\includegraphics[width=4in]{images/assignment2.png}
\caption{$\cdot + 1$关系、 $\cdot \times 2$关系的赋值网格}
\end{figure}

这个网格的构造规则如下
\begin{enumerate}
    \item 网格呈现为四阶无限边形铺嵌
    \item 加乘轴相互垂直、交替出现
    \item 加轴、乘轴的增长方向按右手系排布
\end{enumerate}

我们可以通过点线面的染色，来论证依照此程序，可以无矛盾的构造几何构形，直至无限边形的无穷远处。

\newpage

\section{代数的观点}

从数的角度讲，加减乘除四则运算的代数结构是域；但是从算术表达式的角度讲，四则运算对应到的代数结构是半群或者群；
由此引向算术表达式的通路群与典范形式的讨论。

对数域 $\mathcal{F}$，取 $\mu, \lambda \in \mathcal{F}$，我们考虑表达式集合 $E(\mu, \lambda)$ 如下自由产生
\begin{itemize}
    \item 操作数: $0$ \footnote[1]{初始操作数还可以引入别的元素，比如引入对偶数的 $\epsilon$ 作为一个小扰动，将会得到和导数有关的构造，对此我们会另行讨论。}
    \item 运算符: $\odot: x \mapsto x$
    \item 运算符: $\oplus_\mu: x \mapsto x + \mu$
    \item 运算符: $\ominus_\mu: x \mapsto x - \mu$
    \item 运算符: $\otimes_\lambda: x \mapsto x \cdot e^\lambda$
    \item 运算符: $\oslash_\lambda: x \mapsto x / e^\lambda$
\end{itemize}

这里 $\mu$ 是\emph{加法生成元}，而 $\lambda$ 是\emph{乘法生成元}。在上下文清晰的地方，我们会从运算符的下标里省略 $\mu$ 和 $\lambda$。

采纳了不同的 $E(\mu, \lambda)$ 上的等值关系，我们会得到不同的结构。随着等值关系的加粗，我们会得到一个结构的谱系

$$
  \mathcal{I}^0 \prec \mathcal{I}^i \prec \mathcal{I}^d \prec \mathcal{I}^\infty
$$
$$
  \mathcal{S}^0 \to \mathcal{S}^i \to \mathcal{S}^d \to \mathcal{S}^\infty
$$

具体如下

\begin{itemize}
    \item 字面结构 $\mathcal{S}^0$： $\mathcal{I}^0$ 是根据表达式字面上是否相等来确定的等值关系
    \item 语法结构：根据表达式在特定公理下是否相等
        \subitem 引入了加减互逆、乘除互逆会导致等值关系 $\mathcal{I}^i$，由此带来结构 $\mathcal{S}^i$
        \subitem 在 $\mathcal{I}^i$ 基础上再引入分配律带来等值关系 $\mathcal{I}^d$，由此得到结构 $\mathcal{S}^d$
    \item 语义结构 $\mathcal{S}^\infty$：$\mathcal{I}^\infty$ 是根据表达式运算结果的值否相等来确定的等值关系
\end{itemize}

引入态射后，这些不同的结构之间可以构成范畴，而字面结构 $\mathcal{S}^0$ 是初始对象，语义结构 $\mathcal{S}^\infty$ 是终止对象。
同时也可以考虑这一系列结构上的扩张或者细化，直到最后完成完备化。

\subsection{通路记法}\label{subsec:walknotion}

首先我们明确图论术语通路、轨迹、路径（walk, trail, path）的区别：通路（walk）是最一般的、连通的有限顶点集合；轨迹是边互异的通路；路径是顶点互异的轨迹。

假设我们有一串运算符 $a_1, a_2, \cdots a_{n-1}, a_n$，我们可以引入如下的 \emph{通路记法}.

\begin{definition}
\label{definition:path}
    一个通路 $a_1 a_2 \cdots a_{n-1} a_n$ 是 $\mathcal{F}$ 上的一个函数，它依次把运算符作用到操作数上
    $$a_1 a_2 \cdots a_{n-1} a_n (x) \coloneqq a_n( a_{n-1}( \cdots a_2( a_1(x) ) \cdots ) ), \forall x \in \mathcal{F}$$
\end{definition}

于是 $E(\mu, \lambda)$ 中的表达式都可以写成作用在操作数 $0$ 的通路，并且我们可以验证一个通路内的运算符满足结合律。
同时，我们也可以把一个长的通路拆成小段，然后再组合小段回到原来的通路，举例来说

$$\gamma = 0 a_1 a_2 \cdots a_{n-1} a b_1 b2 \cdots b_{m-1} b_m$$

可以重新写成

$$\gamma = 0 ((\odot a_1 a_2 \cdots a_{n-1} a) \circ (\odot b_1 b_2 \cdots b_{m-1} b_m))$$

这里 $\circ$ 是函数复合。如果我们把 $\odot$ 和 $0$ 理解成一样的，可以定义

$$\alpha = 0 a_1 a_2 \cdots a_{n-1} a$$
$$\beta = 0 b_1 b2 \cdots b_{m-1} b_m$$

于是

$$\gamma = \alpha \circ \beta$$

这里 $\alpha$, $\beta$ 和 $\gamma$ 全部都定义在 $E$ 里面。 我们可以论证 $(E, \circ)$ 是一个半群，我们称之为\emph{通路半群}.

\subsection{典范形式}\label{subsec:canonical}

典范形式是一种选出方法$c$，它从相等关系的每一类中选出一个代表，且满足如下条件

$$  c(x) = c(c(x))$$
$$  c(x_1) = c(x_2) \iff x_1 = x_2  $$

生成结构上的典范形式是凯莱图上的路径。

\subsection{字面结构 $\mathcal{S}^0$}\label{subsec:literial}

当我们采纳了字面上的等值关系，我们得到了一个出度为 5 的生成树。\footnote[2]{这个生成树对应一个六阶无限边形铺嵌，可以更仔细地考察。}

\begin{itemize}
    \item 根：初始操作数 $0$
    \item 边：每个节点通过对应的边 $\odot$、$\oplus$、$\ominus$、$\otimes$和$\oslash$，生成 $5$ 个子节点。
\end{itemize}

从根节点到任意节点的一条路径对应一个算术表达式，不同的表达式对应不同的路径。典范形式是生成树上的所有路径。

\begin{figure}[ht]
\centering
\resizebox{0.9\textwidth}{!}{
\Tree
[.0
    [.$\odot$   [.$\odot$ ] [.$\oplus$ ] [.$\ominus$ ] [.$\otimes$ ] [.$\oslash$ ] ]
    [.$\oplus$  [.$\odot$ ] [.$\oplus$ ] [.$\ominus$ ] [.$\otimes$ ] [.$\oslash$ ] ]
    [.$\ominus$ [.$\odot$ ] [.$\oplus$ ] [.$\ominus$ ] [.$\otimes$ ] [.$\oslash$ ] ]
    [.$\otimes$ [.$\odot$ ] [.$\oplus$ ] [.$\ominus$ ] [.$\otimes$ ] [.$\oslash$ ] ]
    [.$\oslash$ [.$\odot$ ] [.$\oplus$ ] [.$\ominus$ ] [.$\otimes$ ] [.$\oslash$ ] ]
]
}
\caption{$\mathcal{S}^0$的生成图}
\end{figure}

\subsection{语法结构 $\mathcal{S}^i$}\label{subsec:syntactical}

显然，在 $\mathcal{F}$ 上加减是互逆的，乘除也是互逆的，由此我们引入运算符的逆
\begin{itemize}
    \item $\oplus^{-1} = \ominus$
    \item $\ominus^{-1} = \oplus$
    \item $\otimes^{-1} = \oslash$
    \item $\oslash^{-1} = \otimes$
    \item $\odot^{-1} = \odot$
\end{itemize}

\begin{figure}[ht]
\centering
\includegraphics[width=4in]{images/cayley_i}
\caption{$\mu=1$ 时的 $\mathcal{S}^i$的凯莱图}
\end{figure}

生成图是四阶凯莱树，典范形式是其上从某一个零点出发的所有路径。

\subsection{语法结构 $\mathcal{S}^d$}\label{subsec:syntactical}

\begin{figure}[ht]
\centering
\resizebox{0.9\textwidth}{!}{
\begin{tikzpicture}
\draw [black, line width=0.6pt, ->] (0,0) to[out=90,in=270] (0,8.3);
\node [anchor=south] at (0,8.5) {y};
\draw [black, line width=0.6pt, ->] (-8.3,0) to[out=0,in=180] (8.3,0);
\node [anchor=west] at (8.5,0) {x};

\draw [blue, line width=0.6pt] (-8.25,0.25) to[out=0,in=180] (8.25,0.25);
\draw [blue, line width=0.6pt] (-8.25,0.5) to[out=0,in=180] (8.25,0.5);
\draw [blue, line width=0.6pt] (-8.25,1) to[out=0,in=180] (8.25,1);
\draw [blue, line width=0.6pt] (-8.25,2) to[out=0,in=180] (8.25,2);
\draw [blue, line width=0.6pt] (-8.25,4) to[out=0,in=180] (8.25,4);
\draw [blue, line width=0.6pt] (-8.25,8) to[out=0,in=180] (8.25,8);
\draw [green, line width=0.6pt] (-8,0) to[out=90,in=270] (-8,8.00);
\draw [green, line width=0.6pt] (-7.75,0) to[out=90,in=270] (-7.75,0.50);
\draw [green, line width=0.6pt] (-7.5,0) to[out=90,in=270] (-7.5,1.00);
\draw [green, line width=0.6pt] (-7.25,0) to[out=90,in=270] (-7.25,0.50);
\draw [green, line width=0.6pt] (-7,0) to[out=90,in=270] (-7,2.00);
\draw [green, line width=0.6pt] (-6.75,0) to[out=90,in=270] (-6.75,0.50);
\draw [green, line width=0.6pt] (-6.5,0) to[out=90,in=270] (-6.5,1.00);
\draw [green, line width=0.6pt] (-6.25,0) to[out=90,in=270] (-6.25,0.50);
\draw [green, line width=0.6pt] (-6,0) to[out=90,in=270] (-6,4.00);
\draw [green, line width=0.6pt] (-5.75,0) to[out=90,in=270] (-5.75,0.50);
\draw [green, line width=0.6pt] (-5.5,0) to[out=90,in=270] (-5.5,1.00);
\draw [green, line width=0.6pt] (-5.25,0) to[out=90,in=270] (-5.25,0.50);
\draw [green, line width=0.6pt] (-5,0) to[out=90,in=270] (-5,2.00);
\draw [green, line width=0.6pt] (-4.75,0) to[out=90,in=270] (-4.75,0.50);
\draw [green, line width=0.6pt] (-4.5,0) to[out=90,in=270] (-4.5,1.00);
\draw [green, line width=0.6pt] (-4.25,0) to[out=90,in=270] (-4.25,0.50);
\draw [green, line width=0.6pt] (-4,0) to[out=90,in=270] (-4,8.00);
\draw [green, line width=0.6pt] (-3.75,0) to[out=90,in=270] (-3.75,0.50);
\draw [green, line width=0.6pt] (-3.5,0) to[out=90,in=270] (-3.5,1.00);
\draw [green, line width=0.6pt] (-3.25,0) to[out=90,in=270] (-3.25,0.50);
\draw [green, line width=0.6pt] (-3,0) to[out=90,in=270] (-3,2.00);
\draw [green, line width=0.6pt] (-2.75,0) to[out=90,in=270] (-2.75,0.50);
\draw [green, line width=0.6pt] (-2.5,0) to[out=90,in=270] (-2.5,1.00);
\draw [green, line width=0.6pt] (-2.25,0) to[out=90,in=270] (-2.25,0.50);
\draw [green, line width=0.6pt] (-2,0) to[out=90,in=270] (-2,4.00);
\draw [green, line width=0.6pt] (-1.75,0) to[out=90,in=270] (-1.75,0.50);
\draw [green, line width=0.6pt] (-1.5,0) to[out=90,in=270] (-1.5,1.00);
\draw [green, line width=0.6pt] (-1.25,0) to[out=90,in=270] (-1.25,0.50);
\draw [green, line width=0.6pt] (-1,0) to[out=90,in=270] (-1,2.00);
\draw [green, line width=0.6pt] (-0.75,0) to[out=90,in=270] (-0.75,0.50);
\draw [green, line width=0.6pt] (-0.5,0) to[out=90,in=270] (-0.5,1.00);
\draw [green, line width=0.6pt] (-0.25,0) to[out=90,in=270] (-0.25,0.50);
\draw [green, line width=0.6pt] (0.25,0) to[out=90,in=270] (0.25,0.50);
\draw [green, line width=0.6pt] (0.5,0) to[out=90,in=270] (0.5,1.00);
\draw [green, line width=0.6pt] (0.75,0) to[out=90,in=270] (0.75,0.50);
\draw [green, line width=0.6pt] (1,0) to[out=90,in=270] (1,2.00);
\draw [green, line width=0.6pt] (1.25,0) to[out=90,in=270] (1.25,0.50);
\draw [green, line width=0.6pt] (1.5,0) to[out=90,in=270] (1.5,1.00);
\draw [green, line width=0.6pt] (1.75,0) to[out=90,in=270] (1.75,0.50);
\draw [green, line width=0.6pt] (2,0) to[out=90,in=270] (2,4.00);
\draw [green, line width=0.6pt] (2.25,0) to[out=90,in=270] (2.25,0.50);
\draw [green, line width=0.6pt] (2.5,0) to[out=90,in=270] (2.5,1.00);
\draw [green, line width=0.6pt] (2.75,0) to[out=90,in=270] (2.75,0.50);
\draw [green, line width=0.6pt] (3,0) to[out=90,in=270] (3,2.00);
\draw [green, line width=0.6pt] (3.25,0) to[out=90,in=270] (3.25,0.50);
\draw [green, line width=0.6pt] (3.5,0) to[out=90,in=270] (3.5,1.00);
\draw [green, line width=0.6pt] (3.75,0) to[out=90,in=270] (3.75,0.50);
\draw [green, line width=0.6pt] (4,0) to[out=90,in=270] (4,8.00);
\draw [green, line width=0.6pt] (4.25,0) to[out=90,in=270] (4.25,0.50);
\draw [green, line width=0.6pt] (4.5,0) to[out=90,in=270] (4.5,1.00);
\draw [green, line width=0.6pt] (4.75,0) to[out=90,in=270] (4.75,0.50);
\draw [green, line width=0.6pt] (5,0) to[out=90,in=270] (5,2.00);
\draw [green, line width=0.6pt] (5.25,0) to[out=90,in=270] (5.25,0.50);
\draw [green, line width=0.6pt] (5.5,0) to[out=90,in=270] (5.5,1.00);
\draw [green, line width=0.6pt] (5.75,0) to[out=90,in=270] (5.75,0.50);
\draw [green, line width=0.6pt] (6,0) to[out=90,in=270] (6,4.00);
\draw [green, line width=0.6pt] (6.25,0) to[out=90,in=270] (6.25,0.50);
\draw [green, line width=0.6pt] (6.5,0) to[out=90,in=270] (6.5,1.00);
\draw [green, line width=0.6pt] (6.75,0) to[out=90,in=270] (6.75,0.50);
\draw [green, line width=0.6pt] (7,0) to[out=90,in=270] (7,2.00);
\draw [green, line width=0.6pt] (7.25,0) to[out=90,in=270] (7.25,0.50);
\draw [green, line width=0.6pt] (7.5,0) to[out=90,in=270] (7.5,1.00);
\draw [green, line width=0.6pt] (7.75,0) to[out=90,in=270] (7.75,0.50);
\draw [green, line width=0.6pt] (8,0) to[out=90,in=270] (8,8.00);

\node [circle, ,draw=black, fill=black, inner sep=0pt,minimum size=5pt] at (4,8) {};
\node [circle, ,draw=black, fill=black, inner sep=0pt,minimum size=5pt] at (8,1) {};
\node [anchor=south east] at (4,8) {$\frac{1}{2}$};
\node [anchor=south west] at (8,1) {$8$};

\end{tikzpicture}
}
\caption{ $\lambda=\ln2$ 和 $\mu=\frac{1}{2}$ 时的$\mathcal{S}^d$ 凯莱图}\label{fig:grid0}
\end{figure}

生成图是如上，典范形式是其上从某一个零点出发的所有路径。由于分配律的存在，任何两点之间的通路，均可拆解成先加后乘或者先乘后加，由此导致两条标准的路径。

如图所示，我们仅举一例来说明，给定如下通路：

$$
8 = ((\frac{1}{2} \times 2 + \frac{1}{2}) \times 2  + \frac{1}{2}) \times 2 + \frac{1}{2} + \frac{1}{2}
$$

利用分配律，我们可以重新整理上式为：

$$
8 = \frac{1}{2}  \times 2 \times 2 \times 2  + \frac{1}{2} \times 2 \times 2 + \frac{1}{2} \times 2 + \frac{1}{2} + \frac{1}{2}
$$


\subsection{语义结构 $\mathcal{S}^\infty$}\label{subsec:semantical}

首先引入估值函数：
$$
\nu(0 a_1 a_2 \cdots a_n) = \sum_{i} k_i \mu e^{l_i \lambda} \in R
$$

\subsection{完备化}\label{subsec:completeness}

我们数域 $\mathcal{F}$ 上的格点构成的环 $\mathcal{R}_i$

在这种扩张下，终止对象的序列$\mathcal{S}^\infty_k$ 从环变成了域。

\newpage

\section{流方程}

假设在一个无穷小范围内存在算术表达式生成结构的一种几何，它会是什么样呢？本节我们探讨这个话题。

\subsection{流方程的引入}

算术表达式空间中一点 $p$，$p$ 作为表达式有估值 $x$，假设在 $p$ 点存在加轴和乘轴构成的标架 $F_i$，
$p$ 有一个运动，在标架 $F_i$ 中表现为速度 $u$ 和角度 $\theta$ ， 我们对 $p$ 的运动带来的估值 $x$ 的变化，
通过下述推导，可以建立方程

\begin{equation}
    x_{\delta} = (x_0 + \mu \epsilon \cos \theta)e^{\lambda \epsilon \sin \theta}
\end{equation}

或者

\begin{equation}
    x_{\delta} = x_0 e^{\lambda \epsilon \sin \theta} + \mu \epsilon \cos \theta
\end{equation}

两者都可以简化为

\begin{equation}
    x_{\delta} = x_0 + \epsilon (x_0 \lambda \sin \theta + \mu \cos \theta)
\end{equation}

于是

\begin{equation}
    \frac{1}{\delta} (x_{\delta} - x_0) = \frac{\epsilon}{\delta} (\mu \cos \theta + x_0 \lambda \sin \theta)
\end{equation}

当 $\delta$ 和 $\epsilon$ 同时趋于零时，我们就得到了 $dx / dt$，即有

\begin{equation}
    \frac{dx}{dt} = u (\mu \cos \theta + x \lambda \sin \theta)
\end{equation}

最后，我们指出流方程的推导是抽象的，我们在推导过程中并没有用上前面章节里具体的几何结构。

\subsection{拉回}

\subsection{局部坐标系}

\subsection{等值线与梯度}

\subsection{回路的估值}

\subsection{Laplacian的特征值}

\newpage

\section{变换与管型构造}

\subsection{任意生成元}

\subsection{变换的观点}

\subsection{管型构造}

\newpage

\section{第一个实例}

在本节我们会给出一个实例\footnote[1]{本实例由张乐给出，并用张怀公的表述方法予以表述}，
我们会分别验证或者考察典范形式、完备性、流方程、回路估值、Laplacian的特征值、管型构造。

\subsection{实例的给出}

\subsection{典范形式}

\subsection{完备性}

\subsection{流方程}

\subsection{回路估值}

\subsection{Laplacian的特征值}

\subsection{管型构造}

\newpage
\phantomsection
\addcontentsline{toc}{section}{参考文献}
\bibliographystyle{ieeetr}
\bibliography{biblio/article}

\end{document}


